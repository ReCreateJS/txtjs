{"version":3,"file":"txt.umd.js","sources":["../src/SVGArc.ts","../src/SVGPath.ts","../src/Graphics.ts","../src/applyMixins.ts","../src/GraphicsMixin.ts","../src/Accessibility.ts","../src/Align.ts","../src/Case.ts","../node_modules/tslib/tslib.es6.js","../src/Font.ts","../src/Glyph.ts","../src/FontLoader.ts","../src/Character.ts","../src/TextContainer.ts","../src/Line.ts","../src/utils/apply-shape-event-listeners.ts","../src/CharacterText.ts","../src/Info.ts","../src/Word.ts","../src/Text.ts","../src/Path.ts","../src/VerticalAlign.ts","../src/PathText.ts","../src/index.ts"],"sourcesContent":["export default class SVGArc {\n  r0: number;\n  r1: number;\n  cx: number;\n  cy: number;\n  phi: number;\n  rx: number;\n  ry: number;\n  start: number;\n  end: number;\n  fS: boolean;\n  x2: number[];\n\n  mag(v) {\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n  }\n\n  meanVec(u, v) {\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n  }\n\n  dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n  }\n\n  ratio(u, v) {\n    return this.dot(u, v) / (this.mag(u) * this.mag(v));\n  }\n\n  rotClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n  }\n\n  pointMul(u, v) {\n    return [u[0] * v[0], u[1] * v[1]];\n  }\n\n  scale(c, v) {\n    return [c * v[0], c * v[1]];\n  }\n\n  sum(u, v) {\n    return [u[0] + v[0], u[1] + v[1]];\n  }\n\n  angle(u, v) {\n    let sign = 1.0;\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\n      sign = -1.0;\n    }\n    return sign * Math.acos(this.ratio(u, v));\n  }\n\n  rotCounterClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n  }\n\n  midPoint(u, v) {\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n  }\n\n  constructor(\n    x1: number[],\n    rx: number,\n    ry: number,\n    phiarg: number,\n    fA: boolean,\n    fS: boolean,\n    x2: number[]\n  ) {\n    this.rx = rx;\n    this.ry = ry;\n    this.x2 = x2;\n    if (rx == 0 || ry == 0) {\n      return;\n    }\n    const phi = phiarg * (Math.PI / 180.0);\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const xPrime = this.rotClockwise(this.midPoint(x1, x2), phi); // F.6.5.1\n    const xPrime2 = this.pointMul(xPrime, xPrime);\n    let rx2 = Math.pow(rx, 2);\n    let ry2 = Math.pow(ry, 2);\n\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n    if (lambda > 1) {\n      rx *= lambda;\n      ry *= lambda;\n      rx2 = Math.pow(rx, 2);\n      ry2 = Math.pow(ry, 2);\n    }\n    let t = rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0];\n    if (t > -0.000001 && t < 0.000001) {\n      t = 0;\n    }\n    let b = rx2 * xPrime2[1] + ry2 * xPrime2[0];\n    if (b > -0.000001 && b < 0.000001) {\n      b = 0;\n    }\n    let factor = Math.sqrt(t / b);\n    if (fA == fS) {\n      factor *= -1.0;\n    }\n    const cPrime = this.scale(factor, [\n      (rx * xPrime[1]) / ry,\n      (-ry * xPrime[0]) / rx\n    ]);\n    const c = this.sum(\n      this.rotCounterClockwise(cPrime, phi),\n      this.meanVec(x1, x2)\n    );\n    const x1UnitVector = [\n      (xPrime[0] - cPrime[0]) / rx,\n      (xPrime[1] - cPrime[1]) / ry\n    ];\n    const x2UnitVector = [\n      (-1.0 * xPrime[0] - cPrime[0]) / rx,\n      (-1.0 * xPrime[1] - cPrime[1]) / ry\n    ];\n    const theta = this.angle([1, 0], x1UnitVector);\n    let deltaTheta = this.angle(x1UnitVector, x2UnitVector);\n    if (isNaN(deltaTheta)) {\n      deltaTheta = Math.PI;\n    }\n    const start = theta;\n    const end = theta + deltaTheta;\n    this.cx = c[0];\n    this.cy = c[1];\n    this.phi = phi;\n    this.rx = rx;\n    this.ry = ry;\n    this.start = start;\n    this.end = end;\n    this.fS = !fS;\n  }\n\n  exec(ctx: CanvasRenderingContext2D) {\n    if (this.rx == 0 || this.ry == 0) {\n      ctx.lineTo(this.x2[0], this.x2[1]);\n      return;\n    }\n    ctx.translate(this.cx, this.cy);\n    ctx.rotate(this.phi);\n    ctx.scale(this.rx, this.ry);\n    ctx.arc(0, 0, 1, this.start, this.end, this.fS);\n    ctx.scale(1 / this.rx, 1 / this.ry);\n    ctx.rotate(-this.phi);\n    ctx.translate(-this.cx, -this.cy);\n  }\n}\n","export function parsePathData(data) {\n  if (!data) {\n    return [];\n  }\n  let cs = data;\n  const cc = [\n    \"m\",\n    \"M\",\n    \"l\",\n    \"L\",\n    \"v\",\n    \"V\",\n    \"h\",\n    \"H\",\n    \"z\",\n    \"Z\",\n    \"c\",\n    \"C\",\n    \"q\",\n    \"Q\",\n    \"t\",\n    \"T\",\n    \"s\",\n    \"S\",\n    \"a\",\n    \"A\"\n  ];\n  cs = cs.replace(new RegExp(\" \", \"g\"), \",\");\n  for (let n = 0; n < cc.length; n++) {\n    cs = cs.replace(new RegExp(cc[n], \"g\"), \"|\" + cc[n]);\n  }\n  const arr = cs.split(\"|\");\n  const ca = [];\n  let cpx = 0;\n  let cpy = 0;\n  const arrLength = arr.length;\n  let startPoint = null;\n  for (let n = 1; n < arrLength; n++) {\n    let str = arr[n];\n    let c = str.charAt(0);\n    str = str.slice(1);\n    str = str.replace(new RegExp(\",-\", \"g\"), \"-\");\n    str = str.replace(new RegExp(\"-\", \"g\"), \",-\");\n    str = str.replace(new RegExp(\"e,-\", \"g\"), \"e-\");\n    let p = str.split(\",\");\n    if (p.length > 0 && p[0] === \"\") {\n      p.shift();\n    }\n    const pLength = p.length;\n    for (let i = 0; i < pLength; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n    if (c === \"z\" || c === \"Z\") {\n      p = [true];\n    }\n\n    while (p.length > 0) {\n      if (isNaN(p[0])) {\n        break;\n      }\n      let cmd = null;\n      let points = [];\n      const startX = cpx,\n        startY = cpy;\n      let prevCmd, ctlPtx, ctlPty;\n      let rx, ry, psi, fa, fs, x1, y1;\n      let dx, dy;\n\n      switch (c) {\n        case \"l\":\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"L\":\n          cpx = p.shift();\n          cpy = p.shift();\n          points.push(cpx, cpy);\n          break;\n\n        case \"m\":\n          dx = p.shift();\n          dy = p.shift();\n          cpx += dx;\n          cpy += dy;\n          if (startPoint == null) {\n            startPoint = [cpx, cpy];\n          }\n          cmd = \"M\";\n          points.push(cpx, cpy);\n          c = \"l\";\n          break;\n\n        case \"M\":\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"M\";\n          if (startPoint == null) {\n            startPoint = [cpx, cpy];\n          }\n          points.push(cpx, cpy);\n          c = \"L\";\n          break;\n\n        case \"h\":\n          cpx += p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"H\":\n          cpx = p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"v\":\n          cpy += p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"V\":\n          cpy = p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"C\":\n          points.push(p.shift(), p.shift(), p.shift(), p.shift());\n          cpx = p.shift();\n          cpy = p.shift();\n          points.push(cpx, cpy);\n          break;\n\n        case \"c\":\n          points.push(\n            cpx + p.shift(),\n            cpy + p.shift(),\n            cpx + p.shift(),\n            cpy + p.shift()\n          );\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"C\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"S\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"C\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n            ctlPty = cpy + (cpy - prevCmd.points[3]);\n          }\n          points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"C\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"s\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"C\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n            ctlPty = cpy + (cpy - prevCmd.points[3]);\n          }\n          points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"C\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"Q\":\n          points.push(p.shift(), p.shift());\n          cpx = p.shift();\n          cpy = p.shift();\n          points.push(cpx, cpy);\n          break;\n\n        case \"q\":\n          points.push(cpx + p.shift(), cpy + p.shift());\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"Q\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"T\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"Q\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n            ctlPty = cpy + (cpy - prevCmd.points[1]);\n          }\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"Q\";\n          points.push(ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case \"t\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"Q\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n            ctlPty = cpy + (cpy - prevCmd.points[1]);\n          }\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"Q\";\n          points.push(ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case \"A\":\n          rx = p.shift();\n          ry = p.shift();\n          psi = p.shift();\n          fa = p.shift();\n          fs = p.shift();\n          x1 = cpx;\n          y1 = cpy;\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"A\";\n          points = [[x1, y1], rx, ry, psi, fa, fs, [cpx, cpy]];\n          break;\n\n        case \"a\":\n          rx = p.shift();\n          ry = p.shift();\n          psi = p.shift();\n          fa = p.shift();\n          fs = p.shift();\n          x1 = cpx;\n          y1 = cpy;\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"A\";\n          points = [[x1, y1], rx, ry, psi, fa, fs, [cpx, cpy]];\n          break;\n\n        case \"z\":\n          cmd = \"Z\";\n          if (startPoint) {\n            cpx = startPoint[0];\n            cpy = startPoint[1];\n            startPoint = null;\n          } else {\n            cpx = 0;\n            cpy = 0;\n          }\n          p.shift();\n          points = [cpx, cpy];\n          break;\n\n        case \"Z\":\n          cmd = \"Z\";\n          if (startPoint) {\n            cpx = startPoint[0];\n            cpy = startPoint[1];\n            startPoint = null;\n          } else {\n            cpx = 0;\n            cpy = 0;\n          }\n          p.shift();\n          points = [cpx, cpy];\n          break;\n      }\n\n      ca.push({\n        command: cmd || c,\n        points: points,\n        start: {\n          x: startX,\n          y: startY\n        }\n      });\n    }\n  }\n  return ca;\n}\n","import SVGArc from \"./SVGArc\";\nimport { parsePathData } from \"./SVGPath\";\n\nexport default class Graphics {\n  /**\n   * Build up createjs Graphics commands based on path data.\n   */\n  static init(target, svgpath: string) {\n    const ca = parsePathData(svgpath);\n    const G = createjs.Graphics;\n\n    for (let n = 0; n < ca.length; n++) {\n      const c = ca[n].command;\n      const p = ca[n].points;\n      switch (c) {\n        case \"L\":\n          target.append(new G.LineTo(p[0], p[1]));\n          break;\n\n        case \"M\":\n          target.append(new G.MoveTo(p[0], p[1]));\n          break;\n\n        case \"C\":\n          target.append(\n            new G.BezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5])\n          );\n          break;\n\n        case \"Q\":\n          target.append(new G.QuadraticCurveTo(p[0], p[1], p[2], p[3]));\n          break;\n\n        case \"A\":\n          target.append(new SVGArc(p[0], p[1], p[2], p[3], p[4], p[5], p[6]));\n          break;\n\n        case \"Z\":\n          target.append(new G.ClosePath());\n          target.append(new G.MoveTo(p[0], p[1]));\n          break;\n      }\n    }\n  }\n}\n","export default function applyMixins(derivedCtor: any, baseCtors: any[]) {\n  baseCtors.forEach(baseCtor => {\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n      Object.defineProperty(\n        derivedCtor.prototype,\n        name,\n        Object.getOwnPropertyDescriptor(baseCtor.prototype, name)\n      );\n    });\n  });\n}\n","import Graphics from \"./Graphics\";\nimport applyMixins from \"./applyMixins\";\n\nclass GraphicsMixin {\n  /**\n   * decodeSVGPath intended for createjs.Graphics class\n   */\n  decodeSVGPath(data: string) {\n    Graphics.init(this, data);\n    return this;\n  }\n}\n\napplyMixins(createjs.Graphics, [GraphicsMixin]);\n\ndeclare global {\n  namespace createjs {\n    interface Graphics {\n      decodeSVGPath(data: string): Graphics;\n    }\n  }\n}\n","export default class Accessibility {\n  static data: any = [];\n\n  static timeout: any = null;\n\n  static set(element: any) {\n    //if an element is not on canvas, do not place into accessibility api\n    if (element.stage == null) {\n      return;\n    }\n    //clear timeout if exists\n    if (Accessibility.timeout != null) {\n      clearTimeout(Accessibility.timeout);\n    }\n    // add to accessibility elements\n    if (element.accessibilityId == null) {\n      Accessibility.data.push(element);\n      element.accessibilityId = Accessibility.data.length - 1;\n    }\n    Accessibility.timeout = setTimeout(Accessibility.update, 300);\n  }\n\n  static update() {\n    Accessibility.timeout = null;\n    const data = Accessibility.data.slice(0);\n    data.sort(function(a, b) {\n      return a.accessibilityPriority - b.accessibilityPriority;\n    });\n    const len = data.length;\n    let out = \"\";\n    let currentCanvas = data[0].stage.canvas;\n    for (let i = 0; i < len; i++) {\n      if (data[i].stage == null) {\n        continue;\n      }\n      if (currentCanvas != data[i].stage.canvas) {\n        currentCanvas.innerHTML = out;\n        out = \"\";\n        currentCanvas = data[i].stage.canvas;\n      }\n      if (data[i].accessibilityText == null) {\n        out += \"<p>\" + data[i].text + \"</p>\";\n      } else {\n        out += data[i].accessibilityText;\n      }\n    }\n    currentCanvas.innerHTML = out;\n  }\n\n  static clear() {\n    Accessibility.data = [];\n  }\n}\n","enum Align {\n  TOP_LEFT = 0,\n  TOP_CENTER = 1,\n  TOP_RIGHT = 2,\n  MIDDLE_LEFT = 3,\n  MIDDLE_CENTER = 4,\n  MIDDLE_RIGHT = 5,\n  BOTTOM_LEFT = 6,\n  BOTTOM_CENTER = 7,\n  BOTTOM_RIGHT = 8,\n  TL = 0,\n  TC = 1,\n  TR = 2,\n  ML = 3,\n  MC = 4,\n  MR = 5,\n  BL = 6,\n  BC = 7,\n  BR = 8\n}\n\nexport default Align;\n","enum Case {\n  NORMAL = 0,\n  UPPER = 1,\n  LOWER = 2,\n  SMALL_CAPS = 3\n}\n\nexport default Case;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export default class Font {\n  glyphs: any = {};\n  kerning: any = {};\n  missing: number;\n  offset: number;\n  default: number;\n  descent: number;\n  ascent: number;\n  top = 0;\n  middle = 0;\n  bottom = 0;\n  units = 1000;\n  id: string;\n  ligatures: any = {};\n  panose: string;\n  alphabetic: string;\n  loaded = false;\n  targets: number[] = [];\n  loader: XMLHttpRequest;\n\n  cloneGlyph(target: number, from: number) {\n    if (this.glyphs[target] == undefined && this.glyphs[from] != undefined) {\n      this.glyphs[target] = this.glyphs[from];\n      this.kerning[target] = this.kerning[from];\n    }\n  }\n}\n","/**\n * Represents a single Glyph within a Font.\n */\n\nexport default class Glyph {\n  /** SVG path data */\n  path = \"\";\n  offset: number;\n  kerning: any = {};\n  private _graphic: createjs.Graphics = null;\n  _fill: createjs.Graphics.Fill;\n  _stroke: createjs.Graphics.Stroke;\n  _strokeStyle: createjs.Graphics.StrokeStyle;\n\n  graphic() {\n    if (this._graphic == null) {\n      this._graphic = new createjs.Graphics();\n\n      //append fill/stroke/stokeStyle\n      //Character instances populate properties before draw\n      this._stroke = new createjs.Graphics.Stroke(null, true);\n\n      this._strokeStyle = new createjs.Graphics.StrokeStyle(\n        0,\n        null,\n        null,\n        null\n      );\n\n      this._fill = new createjs.Graphics.Fill(null);\n\n      //convert SVG to drawing paths\n      this._graphic.decodeSVGPath(this.path);\n\n      this._graphic.append(this._fill);\n      this._graphic.append(this._strokeStyle);\n      this._graphic.append(this._stroke);\n    }\n    return this._graphic;\n  }\n\n  draw(ctx: CanvasRenderingContext2D): boolean {\n    this._graphic.draw(ctx);\n    return true;\n  }\n\n  getKerning(characterCode: number, size: number) {\n    const out = -(this.kerning[characterCode] * size);\n    if (isNaN(out)) {\n      return 0;\n    }\n    if (isNaN(characterCode)) {\n      return 0;\n    }\n    if (isNaN(size)) {\n      return 0;\n    }\n    if (this.kerning[characterCode] != undefined) {\n      return out;\n    }\n    return 0;\n  }\n}\n","import Font from \"./Font\";\nimport Glyph from \"./Glyph\";\n\n/**\n * Fetches font files via AJAX request, and\n * parses the font into glyphs, and stores it.\n * Local storage is optionally used for caching.\n *\n * Font files store font data, grouped by categories:\n *\n *  * `0` = Font properties: `0|property name|property value`\n *  * `1` = Glyph SVG shape data: `1|?|?|SVGPath data`\n *  * `2` = Kerning spacing: `2|?|?|?`\n *  * `3` = Ligatures: `3`\n *\n * Each line in a category of data is delineated with pipe characters \"|\".\n *\n * Partial example:\n *\n * ```\n * 0|id|Abel-Regular\n * 0|family|Abel\n * 1|33|428|M250 434h-72l-55 1000h182zM137 0v154h154v-154h-154z\n * 1|34|645|M225 993h-51l-51 441h153zM471 993h-51l-51 441h153z\n * 2|34|197|123\n * 2|47|100|102\n * 3\n * ```\n *\n * @todo This class should be split into FontLoader (AJAX fetch), FontParser (deserialisation), and probably a FontStorage class.\n */\nexport default class FontLoader {\n  /**\n   * Server path to load font files from.\n   */\n  static path = \"/font/\";\n\n  static cache = false;\n\n  static version = 0;\n\n  static fonts: any = {};\n\n  static loaders: any = [];\n\n  static isLoaded(name: string): boolean {\n    if (FontLoader.fonts.hasOwnProperty(name)) {\n      return FontLoader.fonts[name].loaded;\n    }\n    return false;\n  }\n\n  static getFont(name: string): Font {\n    if (FontLoader.fonts.hasOwnProperty(name)) {\n      return FontLoader.fonts[name];\n    }\n    return null;\n  }\n\n  static load(target: any, fonts: string[]) {\n    //no loaderId implies no loading for this txt field\n    let loader: any;\n    if (target.loaderId == null) {\n      loader = {};\n      target.loaderId = FontLoader.loaders.push(loader) - 1;\n      loader._id = target.loaderId;\n      loader._target = target;\n    } else {\n      loader = FontLoader.loaders[target.loaderId];\n    }\n    const fontCount = fonts.length;\n    for (let i = 0; i < fontCount; ++i) {\n      //mark loader for font loading\n      loader[fonts[i]] = false;\n    }\n    for (const prop in loader) {\n      if (prop.charAt(0) != \"_\") {\n        FontLoader.loadFont(prop, loader);\n      }\n    }\n  }\n\n  static check(id: number) {\n    const loader = FontLoader.loaders[id];\n    //determine if all fonts are loaded\n    for (const prop in loader) {\n      if (prop.charAt(0) != \"_\") {\n        loader[prop] = FontLoader.isLoaded(prop);\n        if (loader[prop] == false) return;\n      }\n    }\n    window.setTimeout(function() {\n      loader._target.fontLoaded();\n    }, 1);\n  }\n\n  static loadFont(fontName: string, loader: any) {\n    //determine if font exists in memory\n    if (FontLoader.fonts.hasOwnProperty(fontName)) {\n      //loading complete\n      if (FontLoader.fonts[fontName].loaded === true) {\n        FontLoader.check(loader._id);\n\n        //loading not complete\n      } else {\n        //add loader id to font\n        FontLoader.fonts[fontName].targets.push(loader._id);\n      }\n      //load from scratch\n    } else {\n      const font: Font = (FontLoader.fonts[fontName] = new Font());\n      font.targets.push(loader._id);\n\n      //TODO localstorage check & get\n      const req: any = new XMLHttpRequest();\n\n      if (localStorage && FontLoader.cache) {\n        const local = JSON.parse(\n          localStorage.getItem(\"txt_font_\" + fontName.split(\" \").join(\"_\"))\n        );\n        if (local != null) {\n          if (local.version === FontLoader.version) {\n            req.cacheResponseText = local.font;\n            req.cacheFont = true;\n          }\n        }\n      }\n\n      req.onload = function() {\n        //localstorage set\n        if (localStorage && FontLoader.cache && this.cacheFont == undefined) {\n          localStorage.setItem(\n            \"txt_font_\" + fontName.split(\" \").join(\"_\"),\n            JSON.stringify({\n              font: this.responseText,\n              version: FontLoader.version\n            })\n          );\n        }\n\n        let lines = this.responseText.split(\"\\n\");\n        //use cacheResponseText as responseText is readonly via XHR\n        if (this.cacheResponseText) {\n          lines = this.cacheResponseText.split(\"\\n\");\n        }\n        const len = lines.length;\n        let i = 0;\n        let line: string[];\n        let glyph: Glyph;\n        let lineLen;\n        while (i < len) {\n          line = lines[i].split(\"|\");\n          switch (line[0]) {\n            case \"0\":\n              //properties\n              if (\n                line[1] == \"id\" ||\n                line[1] == \"panose\" ||\n                line[1] == \"family\" ||\n                line[1] == \"font-style\" ||\n                line[1] == \"font-stretch\"\n              ) {\n                font[line[1]] = line[2];\n              } else {\n                font[line[1]] = parseInt(line[2]);\n              }\n              break;\n\n            case \"1\":\n              //glyphs\n\n              glyph = new Glyph();\n              glyph.offset = parseInt(line[2]) / font.units;\n              glyph.path = line[3];\n              font.glyphs[line[1]] = glyph;\n              break;\n\n            case \"2\":\n              //kerning\n              if (font.kerning[line[1]] == undefined) {\n                font.kerning[line[1]] = {};\n              }\n              if (font.glyphs[line[1]] == undefined) {\n                glyph = new Glyph();\n                glyph.offset = font.default / font.units;\n                glyph.path = \"\";\n                font.glyphs[line[1]] = glyph;\n              }\n              font.glyphs[line[1]].kerning[line[2]] =\n                parseInt(line[3]) / font.units;\n              font.kerning[line[1]][line[2]] = parseInt(line[3]) / font.units;\n              break;\n\n            case \"3\":\n              line.shift();\n              lineLen = line.length;\n              for (let j = 0; j < lineLen; j++) {\n                const path = line[j].split(\"\");\n                const pathLength = path.length;\n                let target = font.ligatures;\n                for (let k = 0; k < pathLength; k++) {\n                  if (target[path[k]] == undefined) {\n                    target[path[k]] = {};\n                  }\n                  if (k == pathLength - 1) {\n                    target[path[k]].glyph = font.glyphs[line[j]];\n                  }\n\n                  target = target[path[k]];\n                }\n                //font.ligatures[ line[ j ] ] = font.glyphs[ line[j] ]\n              }\n              break;\n          }\n          i++;\n        }\n        //character cloning\n        //clone bullet into multiple areas\n        font.cloneGlyph(183, 8226);\n        font.cloneGlyph(8729, 8226);\n        font.cloneGlyph(12539, 8226);\n        font.cloneGlyph(9702, 8226);\n        font.cloneGlyph(9679, 8226);\n        font.cloneGlyph(9675, 8226);\n\n        //define font adjustment values for font.top, font.middle, font.bottom\n        if (font.top == undefined) {\n          font.top = 0;\n        }\n        if (font.middle == undefined) {\n          font.middle = 0;\n        }\n        if (font.bottom == undefined) {\n          font.bottom = 0;\n        }\n\n        //level the font metadata\n        const lLen = font.targets.length;\n        font.loaded = true;\n        for (let l = 0; l < lLen; ++l) {\n          FontLoader.check(font.targets[l]);\n        }\n        font.targets = [];\n      };\n      //check if cached\n      if (req.cacheFont == true) {\n        req.onload();\n      } else {\n        req.open(\n          \"get\",\n          FontLoader.path + fontName.split(\" \").join(\"_\") + \".txt\",\n          true\n        );\n        req.send();\n      }\n    }\n  }\n}\n","import Case from \"./Case\";\nimport Glyph from \"./Glyph\";\nimport FontLoader from \"./FontLoader\";\nimport Font from \"./Font\";\n\n/**\n * Represents a styled character\n */\nexport default class Character extends createjs.Shape {\n  character = \"\";\n  characterCode: number = null;\n  font: string = null;\n  tracking: number = null;\n  characterCase: Case = null;\n  characterCaseOffset = 0;\n  index: number = null;\n  size: number = null;\n  fillColor: string = null;\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  measuredWidth: number = null;\n  measuredHeight: number = null;\n  hPosition: number = null;\n  missing = false;\n\n  _glyph: Glyph;\n  _font: Font;\n\n  constructor(character: string, style: {}, index: number = null) {\n    super();\n    this.set(style);\n    this.index = index;\n\n    let upperSmall;\n\n    // flip case depending on characterCase property\n    if (this.characterCase == Case.NORMAL) {\n      this.character = character;\n    } else if (this.characterCase == Case.UPPER) {\n      this.character = character.toUpperCase();\n    } else if (this.characterCase == Case.LOWER) {\n      this.character = character.toLowerCase();\n    } else if (this.characterCase == Case.SMALL_CAPS) {\n      this.character = character.toUpperCase();\n      upperSmall = !(character === this.character);\n    } else {\n      //fallback case for unknown.\n      this.character = character;\n    }\n    this.characterCode = this.character.charCodeAt(0);\n\n    this._font = FontLoader.getFont(this.font);\n\n    if (this._font.glyphs[this.characterCode]) {\n      this._glyph = this._font.glyphs[this.characterCode];\n\n      //flip lower\n    } else if (\n      this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toLowerCase()\n          .charCodeAt(0)\n      ]\n    ) {\n      this._glyph = this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toLowerCase()\n          .charCodeAt(0)\n      ];\n\n      //flip upper\n    } else if (\n      this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toUpperCase()\n          .charCodeAt(0)\n      ]\n    ) {\n      this._glyph = this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toUpperCase()\n          .charCodeAt(0)\n      ];\n    }\n\n    //missing glyph\n    if (this._glyph === undefined) {\n      console.log(\"MISSING GLYPH:\" + this.character);\n      this._glyph = this._font.glyphs[42];\n      this.missing = true;\n    }\n    this.graphics = this._glyph.graphic();\n\n    // scale x\n    if (this.characterCase === Case.SMALL_CAPS) {\n      if (upperSmall) {\n        this.scaleX = (this.size / this._font.units) * 0.8;\n        this.characterCaseOffset = -0.2 * (this._glyph.offset * this.size);\n      } else {\n        this.scaleX = this.size / this._font.units;\n      }\n    } else {\n      this.scaleX = this.size / this._font.units;\n    }\n\n    this.scaleY = -this.scaleX;\n\n    this.measuredHeight =\n      (this._font.ascent - this._font.descent) * this.scaleX;\n    this.measuredWidth = this.scaleX * this._glyph.offset * this._font.units;\n\n    const ha = new createjs.Shape();\n    ha.graphics\n      .beginFill(\"#000\")\n      .drawRect(\n        0,\n        this._font.descent,\n        this._glyph.offset * this._font.units,\n        this._font.ascent - this._font.descent\n      );\n    this.hitArea = ha;\n  }\n\n  setGlyph(glyph: Glyph) {\n    this._glyph = glyph;\n    this.graphics = this._glyph.graphic();\n  }\n\n  trackingOffset(): number {\n    return this.size * (2.5 / this._font.units + 1 / 900 + this.tracking / 990);\n  }\n\n  draw(ctx: CanvasRenderingContext2D): boolean {\n    this._glyph._fill.style = this.fillColor;\n    this._glyph._fill.matrix = null;\n    this._glyph._stroke.style = this.strokeColor;\n    this._glyph._strokeStyle.width = this.strokeWidth;\n    return this._glyph.draw(ctx);\n  }\n\n  getWidth() {\n    return this.size * this._glyph.offset;\n  }\n}\n","import FontLoader from \"./FontLoader\";\nimport Case from \"./Case\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Accessibility from \"./Accessibility\";\nimport Character from \"./Character\";\n\n/**\n * Common aspects of top-level Text classes\n */\nexport default abstract class TextContainer extends createjs.Container {\n  text = \"\";\n  original: ConstructObj = null;\n  style: Style[] = null;\n  font = \"belinda\";\n  characterCase: Case = Case.NORMAL;\n\n  //accessibility\n  accessibilityText: string = null;\n  accessibilityPriority = 2;\n  accessibilityId: number = null;\n\n  protected loadFonts() {\n    const fonts = [this.font].concat(this.fontsFromCharacterStyles(this.style));\n    FontLoader.load(this, fonts);\n  }\n\n  //called when text is rendered\n  complete() {\n    //placeholder\n  }\n\n  //called when font has loaded\n  fontLoaded() {\n    this.layout();\n  }\n\n  //call stage.update to render canvas\n  //overload to support deferred rendering\n  render() {\n    this.stage.update();\n  }\n\n  abstract layout();\n\n  addAccessibility() {\n    Accessibility.set(this);\n  }\n\n  private fontsFromCharacterStyles(styles) {\n    const styleFonts = [];\n    if (styles) {\n      for (let i = 0; i < styles.length; ++i) {\n        if (styles[i] != undefined && styles[i].font != undefined) {\n          styleFonts.push(styles[i].font);\n        }\n      }\n    }\n    return styleFonts;\n  }\n\n  getCharCodeAt(index: number): number {\n    if (this.characterCase == Case.NORMAL) {\n      return this.text.charAt(index).charCodeAt(0);\n    } else if (this.characterCase == Case.UPPER) {\n      return this.text\n        .charAt(index)\n        .toUpperCase()\n        .charCodeAt(0);\n    } else if (this.characterCase == Case.LOWER) {\n      return this.text\n        .charAt(index)\n        .toLowerCase()\n        .charCodeAt(0);\n    } else if (this.characterCase == Case.SMALL_CAPS) {\n      return this.text\n        .charAt(index)\n        .toUpperCase()\n        .charCodeAt(0);\n    } else {\n      //fallback case for unknown.\n      return this.text.charAt(index).charCodeAt(0);\n    }\n  }\n\n  // TODO: this code needs unit tests before it gets changed any further\n  /**\n   * Figure out how many characters a ligature covers,\n   * and swap character glyph\n   * @param char\n   * @param ligTarget\n   */\n  protected ligatureSwap(char: Character, ligTarget: string) {\n    let advanceBy = 0;\n    const firstChar = ligTarget.charAt(0);\n    const firstLigature = char._font.ligatures[firstChar];\n    //1 char match\n    if (firstLigature) {\n      //2 char match\n      if (firstLigature[ligTarget.charAt(1)]) {\n        //3 char match\n        if (firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)]) {\n          //4 char match\n          if (\n            firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)][\n              ligTarget.charAt(3)\n            ]\n          ) {\n            //swap 4 char ligature\n            char.setGlyph(\n              firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)][\n                ligTarget.charAt(3)\n              ].glyph\n            );\n            advanceBy = 3;\n          } else {\n            //swap 3 char ligature\n            char.setGlyph(\n              firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)].glyph\n            );\n            advanceBy = 2;\n          }\n        } else {\n          //swap 2 char ligature\n          char.setGlyph(firstLigature[ligTarget.charAt(1)].glyph);\n          advanceBy = 1;\n        }\n      }\n    }\n    return advanceBy;\n  }\n}\n","import Word from \"./Word\";\nimport Character from \"./Character\";\n\nexport default class Line extends createjs.Container {\n  measuredWidth: number;\n  measuredHeight: number;\n\n  constructor() {\n    super();\n  }\n\n  //Text support\n  lastWord(): Word {\n    return this.children[this.children.length - 1] as Word;\n  }\n\n  //CharacterText support\n  lastCharacter(): Character {\n    return this.children[this.children.length - 1] as Character;\n  }\n}\n","import { ShapeEvents } from \"../Interfaces\";\n\nexport const EventNames = [\n  \"click\",\n  \"dblclick\",\n  \"mousedown\",\n  \"mouseout\",\n  \"mouseover\",\n  \"pressmove\",\n  \"pressup\",\n  \"rollout\",\n  \"rollover\",\n  \"added\",\n  \"removed\",\n  \"tick\"\n];\n\n/**\n *\n * @param source\n * @param shape\n *\n * @todo: simplify with a loop\n */\nexport default function(\n  original: ShapeEvents,\n  shape: createjs.EventDispatcher\n) {\n  EventNames.forEach(eventName => {\n    if (original[eventName]) {\n      shape.on(eventName, original[eventName]);\n    }\n  });\n}\n","import TextContainer from \"./TextContainer\";\nimport Align from \"./Align\";\nimport FontLoader from \"./FontLoader\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Font from \"./Font\";\nimport Character from \"./Character\";\nimport Line from \"./Line\";\nimport applyShapeEventListeners from \"./utils/apply-shape-event-listeners\";\n\nconst SPACE_CHAR_CODE = 32;\n\nexport default class CharacterText extends TextContainer {\n  lineHeight: number = null;\n  width = 100;\n  height = 20;\n  align: number = Align.TOP_LEFT;\n  size = 12;\n  minSize: number = null;\n  maxTracking: number = null;\n  tracking = 0;\n  ligatures = false;\n  fillColor = \"#000\";\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  singleLine = false;\n  autoExpand = false;\n  autoReduce = false;\n  overset = false;\n  oversetIndex: number = null;\n  loaderId: number = null;\n  debug = false;\n  lines: Line[] = [];\n  block: createjs.Container;\n  missingGlyphs: any[] = null;\n  renderCycle = true;\n  measured = false;\n  oversetPotential = false;\n\n  constructor(props: ConstructObj = null) {\n    super();\n\n    if (props) {\n      this.original = props;\n      this.set(props);\n      this.original.tracking = this.tracking;\n    }\n    this.loadFonts();\n  }\n\n  //layout text\n  layout() {\n    this.addAccessibility();\n\n    this.overset = false;\n    this.measured = false;\n    this.oversetPotential = false;\n\n    if (this.original.size) {\n      this.size = this.original.size;\n    }\n    if (this.original.tracking) {\n      this.tracking = this.original.tracking;\n    }\n    this.text = this.text.replace(/([\\n][ \\t]+)/g, \"\\n\");\n\n    if (this.singleLine === true) {\n      this.text = this.text.split(\"\\n\").join(\"\");\n      this.text = this.text.split(\"\\r\").join(\"\");\n    }\n\n    this.lines = [];\n    this.missingGlyphs = null;\n    this.removeAllChildren();\n\n    if (this.text === \"\" || this.text === undefined) {\n      this.render();\n      this.complete();\n      return;\n    }\n\n    this.block = new createjs.Container();\n    this.addChild(this.block);\n\n    if (this.debug == true) {\n      this.addDebugLayout();\n    }\n    if (\n      this.singleLine === true &&\n      (this.autoExpand === true || this.autoReduce === true)\n    ) {\n      this.measure();\n    }\n\n    if (this.renderCycle === false) {\n      this.removeAllChildren();\n      this.complete();\n      return;\n    }\n\n    if (this.characterLayout() === false) {\n      this.removeAllChildren();\n      return;\n    }\n    this.lineLayout();\n    this.render();\n    this.complete();\n  }\n\n  /**\n   * Draw baseline, ascent, ascender, and descender lines\n   */\n  private addDebugLayout() {\n    const font: Font = FontLoader.getFont(this.font);\n    //outline\n    let s = new createjs.Shape();\n    s.graphics.beginStroke(\"#FF0000\");\n    s.graphics.setStrokeStyle(1.2);\n    s.graphics.drawRect(0, 0, this.width, this.height);\n    this.addChild(s);\n    //baseline\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#000\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = 0;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#F00\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font[\"cap-height\"] / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#0F0\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.ascent / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#00F\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.descent / font.units) * this.size;\n    this.block.addChild(s);\n  }\n\n  measure(): boolean {\n    this.measured = true;\n    //Extract origin sizing from this.original to preserve\n    //metrics. autoMeasure will change style properties\n    //directly. Change this.original to re-render.\n\n    let len = this.text.length;\n    const defaultStyle = {\n      size: this.original.size,\n      font: this.original.font,\n      tracking: this.original.tracking,\n      characterCase: this.original.characterCase\n    };\n    let currentStyle: any;\n    let charCode: number = null;\n    let font: Font;\n    const charMetrics = [];\n    let largestFontSize = defaultStyle.size;\n    for (let i = 0; i < len; i++) {\n      charCode = this.text.charCodeAt(i);\n\n      currentStyle = defaultStyle;\n      if (\n        this.original.style !== undefined &&\n        this.original.style[i] !== undefined\n      ) {\n        currentStyle = this.original.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n      }\n      if (currentStyle.size > largestFontSize) {\n        largestFontSize = currentStyle.size;\n      }\n      font = FontLoader.fonts[currentStyle.font];\n\n      charMetrics.push({\n        char: this.text[i],\n        size: currentStyle.size,\n        charCode: charCode,\n        font: currentStyle.font,\n        offset: font.glyphs[charCode].offset,\n        units: font.units,\n        tracking: this.trackingOffset(\n          currentStyle.tracking,\n          currentStyle.size,\n          font.units\n        ),\n        kerning: font.glyphs[charCode].getKerning(this.getCharCodeAt(i + 1), 1)\n      });\n    }\n\n    //save space char using last known width/height\n    const space: any = {\n      char: \" \",\n      size: currentStyle.size,\n      charCode: 32,\n      font: currentStyle.font,\n      offset: font.glyphs[32].offset,\n      units: font.units,\n      tracking: 0,\n      kerning: 0\n    };\n\n    charMetrics[charMetrics.length - 1].tracking = 0;\n    //charMetrics[ charMetrics.length-1 ].kerning=0;\n\n    len = charMetrics.length;\n\n    //measured without size\n    let metricBaseWidth = 0;\n    //measured at size\n    let metricRealWidth = 0;\n    //measured at size with tracking\n    let metricRealWidthTracking = 0;\n\n    let current = null;\n    for (let i = 0; i < len; i++) {\n      current = charMetrics[i];\n      metricBaseWidth = metricBaseWidth + current.offset + current.kerning;\n      metricRealWidth =\n        metricRealWidth + (current.offset + current.kerning) * current.size;\n      metricRealWidthTracking =\n        metricRealWidthTracking +\n        (current.offset + current.kerning + current.tracking) * current.size;\n    }\n\n    //size cases\n    if (metricRealWidth > this.width) {\n      if (this.autoReduce === true) {\n        this.tracking = 0;\n        this.size =\n          (this.original.size * this.width) /\n          (metricRealWidth + space.offset * space.size);\n        if (this.minSize != null && this.size < this.minSize) {\n          this.size = this.minSize;\n          this.oversetPotential = true;\n        }\n        return true;\n      }\n      //tracking cases\n    } else {\n      let trackMetric = this.offsetTracking(\n        (this.width - metricRealWidth) / len,\n        current.size,\n        current.units\n      );\n      if (trackMetric < 0) {\n        trackMetric = 0;\n      }\n      //auto expand case\n      if (trackMetric > this.original.tracking && this.autoExpand) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n      //auto reduce tracking case\n      if (trackMetric < this.original.tracking && this.autoReduce) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n    }\n    return true;\n  }\n\n  trackingOffset(tracking: number, size: number, units: number): number {\n    return size * (2.5 / units + 1 / 900 + tracking / 990);\n  }\n\n  offsetTracking(offset: number, size: number, units: number): number {\n    return Math.floor(((offset - 2.5 / units - 1 / 900) * 990) / size);\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  /**\n   * Place characters in lines\n   * adds Characters to lines. LineHeight IS a factor given lack of Words.\n   */\n  characterLayout(): boolean {\n    //char layout\n    const len = this.text.length;\n    let char: Character;\n    const defaultStyle: Style = {\n      size: this.size,\n      font: this.font,\n      tracking: this.tracking,\n      characterCase: this.characterCase,\n      fillColor: this.fillColor,\n      strokeColor: this.strokeColor,\n      strokeWidth: this.strokeWidth\n    };\n    let currentStyle = defaultStyle;\n    let hPosition = 0;\n    let vPosition = 0;\n    let lineY = 0;\n    let firstLine = true;\n\n    let currentLine: Line = new Line();\n\n    this.lines.push(currentLine);\n    this.block.addChild(currentLine);\n\n    // loop over characters\n    // place into lines\n    for (let i = 0; i < len; i++) {\n      if (this.style !== null && this.style[i] !== undefined) {\n        currentStyle = this.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n        if (currentStyle.characterCase === undefined)\n          currentStyle.characterCase = defaultStyle.characterCase;\n        if (currentStyle.fillColor === undefined)\n          currentStyle.fillColor = defaultStyle.fillColor;\n        if (currentStyle.strokeColor === undefined)\n          currentStyle.strokeColor = defaultStyle.strokeColor;\n        if (currentStyle.strokeWidth === undefined)\n          currentStyle.strokeWidth = defaultStyle.strokeWidth;\n      }\n\n      // newline\n      // mark word as having newline\n      // create new word\n      // new line has no character\n      if (this.text.charAt(i) == \"\\n\" || this.text.charAt(i) == \"\\r\") {\n        //only if not last char\n        if (i < len - 1) {\n          if (firstLine === true) {\n            vPosition = currentStyle.size;\n            currentLine.measuredHeight = currentStyle.size;\n            currentLine.measuredWidth = hPosition;\n            lineY = 0;\n            currentLine.y = 0;\n          } else if (this.lineHeight != undefined) {\n            vPosition = this.lineHeight;\n            currentLine.measuredHeight = vPosition;\n            currentLine.measuredWidth = hPosition;\n            lineY = lineY + vPosition;\n            currentLine.y = lineY;\n          } else {\n            vPosition = char.measuredHeight;\n            currentLine.measuredHeight = vPosition;\n            currentLine.measuredWidth = hPosition;\n            lineY = lineY + vPosition;\n            currentLine.y = lineY;\n          }\n\n          firstLine = false;\n          currentLine = new Line();\n          currentLine.measuredHeight = currentStyle.size;\n          currentLine.measuredWidth = 0;\n          this.lines.push(currentLine);\n          this.block.addChild(currentLine);\n          vPosition = 0;\n          hPosition = 0;\n        }\n\n        if (this.text.charAt(i) == \"\\r\" && this.text.charAt(i + 1) == \"\\n\") {\n          i++;\n        }\n\n        continue;\n      }\n\n      //runtime test for font\n      if (FontLoader.isLoaded(currentStyle.font) === false) {\n        FontLoader.load(this, [currentStyle.font]);\n        return false;\n      }\n\n      // create character\n      char = new Character(this.text.charAt(i), currentStyle, i);\n\n      if (this.original.character) {\n        applyShapeEventListeners(this.original.character, char);\n      }\n\n      if (char.missing) {\n        if (this.missingGlyphs == null) {\n          this.missingGlyphs = [];\n        }\n        this.missingGlyphs.push({\n          position: i,\n          character: this.text.charAt(i),\n          font: currentStyle.font\n        });\n      }\n\n      if (firstLine === true) {\n        if (vPosition < char.size) {\n          vPosition = char.size;\n        }\n      } else if (this.lineHeight != undefined && this.lineHeight > 0) {\n        if (vPosition < this.lineHeight) {\n          vPosition = this.lineHeight;\n        }\n      } else if (char.measuredHeight > vPosition) {\n        vPosition = char.measuredHeight;\n      }\n\n      //swap character if ligature\n      //ligatures removed if tracking or this.ligatures is false\n      if (currentStyle.tracking == 0 && this.ligatures == true) {\n        const ligTarget = this.text.substr(i, 4);\n        i = i + this.ligatureSwap(char, ligTarget);\n      }\n\n      if (this.overset == true) {\n        break;\n      }\n\n      const longerThanWidth = hPosition + char.measuredWidth > this.width;\n      if (this.singleLine === false && longerThanWidth) {\n        const lastchar: Character = currentLine.children[\n          currentLine.children.length - 1\n        ] as Character;\n\n        currentLine.measuredWidth =\n          hPosition -\n          lastchar.trackingOffset() -\n          lastchar._glyph.getKerning(this.getCharCodeAt(i), lastchar.size);\n\n        if (lastchar.characterCode == SPACE_CHAR_CODE) {\n          currentLine.measuredWidth -= lastchar.measuredWidth;\n        }\n\n        if (firstLine === true) {\n          currentLine.measuredHeight = vPosition;\n          currentLine.y = 0;\n          lineY = 0;\n        } else {\n          currentLine.measuredHeight = vPosition;\n          lineY = lineY + vPosition;\n          currentLine.y = lineY;\n        }\n        firstLine = false;\n        currentLine = new Line();\n        currentLine.addChild(char);\n\n        if (char.characterCode == SPACE_CHAR_CODE) {\n          hPosition = 0;\n        } else {\n          hPosition =\n            char.x +\n            char._glyph.offset * char.size +\n            char.characterCaseOffset +\n            char.trackingOffset();\n        }\n\n        this.lines.push(currentLine);\n        this.block.addChild(currentLine);\n        vPosition = 0;\n\n        //measured case\n      } else if (\n        this.measured == true &&\n        this.singleLine === true &&\n        longerThanWidth &&\n        this.oversetPotential == true\n      ) {\n        this.oversetIndex = i;\n        this.overset = true;\n\n        //not measured\n      } else if (\n        this.measured == false &&\n        this.singleLine === true &&\n        longerThanWidth\n      ) {\n        this.oversetIndex = i;\n        this.overset = true;\n      } else {\n        char.x = hPosition;\n        // push character into word\n        currentLine.addChild(char);\n        hPosition =\n          char.x +\n          char._glyph.offset * char.size +\n          char.characterCaseOffset +\n          char.trackingOffset() +\n          char._glyph.getKerning(this.getCharCodeAt(i + 1), char.size);\n      }\n    }\n\n    //case of empty word at end.\n    if (currentLine.children.length == 0) {\n      currentLine = this.lines[this.lines.length - 1];\n      hPosition = currentLine.measuredWidth;\n      vPosition = currentLine.measuredHeight;\n    }\n    if (firstLine === true) {\n      currentLine.measuredWidth = hPosition;\n      currentLine.measuredHeight = vPosition;\n      currentLine.y = 0;\n    } else {\n      currentLine.measuredWidth = hPosition;\n      currentLine.measuredHeight = vPosition;\n      if (vPosition == 0) {\n        if (this.lineHeight) {\n          vPosition = this.lineHeight;\n        } else {\n          vPosition = currentStyle.size;\n        }\n      }\n      currentLine.y = lineY + vPosition;\n    }\n    return true;\n  }\n\n  lineLayout() {\n    // loop over lines\n    // place into text\n    let measuredHeight = 0;\n    let line;\n    const a = Align;\n    const fnt: Font = FontLoader.getFont(this.font);\n\n    const len = this.lines.length;\n    for (let i = 0; i < len; i++) {\n      line = this.lines[i];\n\n      //correct measuredWidth if last line character contains tracking\n      if (line.lastCharacter()) {\n        line.measuredWidth -= line.lastCharacter().trackingOffset();\n      }\n\n      if (this.original.line) {\n        applyShapeEventListeners(this.original.line, line);\n      }\n\n      measuredHeight += line.measuredHeight;\n\n      if (this.align === a.TOP_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.TOP_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.MIDDLE_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.MIDDLE_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.BOTTOM_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.BOTTOM_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      }\n    }\n\n    //TOP ALIGNED\n    if (\n      this.align === a.TOP_LEFT ||\n      this.align === a.TOP_CENTER ||\n      this.align === a.TOP_RIGHT\n    ) {\n      if (fnt.top == 0) {\n        this.block.y = (this.lines[0].measuredHeight * fnt.ascent) / fnt.units;\n      } else {\n        this.block.y =\n          (this.lines[0].measuredHeight * fnt.ascent) / fnt.units +\n          (this.lines[0].measuredHeight * fnt.top) / fnt.units;\n      }\n\n      //MIDDLE ALIGNED\n    } else if (\n      this.align === a.MIDDLE_LEFT ||\n      this.align === a.MIDDLE_CENTER ||\n      this.align === a.MIDDLE_RIGHT\n    ) {\n      this.block.y =\n        this.lines[0].measuredHeight +\n        (this.height - measuredHeight) / 2 +\n        (this.lines[0].measuredHeight * fnt.middle) / fnt.units;\n\n      //BOTTOM ALIGNED\n    } else if (\n      this.align === a.BOTTOM_LEFT ||\n      this.align === a.BOTTOM_CENTER ||\n      this.align === a.BOTTOM_RIGHT\n    ) {\n      this.block.y =\n        this.height -\n        this.lines[this.lines.length - 1].y +\n        (this.lines[0].measuredHeight * fnt.bottom) / fnt.units;\n    }\n\n    if (this.original.block) {\n      applyShapeEventListeners(this.original.block, this.block);\n    }\n  }\n}\n","export default class Info {\n  static VERSION = \"0.10.0\";\n  static LICENSE = \"BSD-2-Clause\";\n}\n","import Character from \"./Character\";\n\nexport default class Word extends createjs.Container {\n  hasNewLine = false;\n  hasHyphen = false;\n  hasSpace = false;\n  measuredWidth: number;\n  measuredHeight: number;\n  spaceOffset = 0;\n\n  constructor() {\n    super();\n  }\n\n  //CharacterText support\n  lastCharacter(): Character {\n    return this.children[this.children.length - 1] as Character;\n  }\n}\n","import TextContainer from \"./TextContainer\";\nimport Align from \"./Align\";\nimport FontLoader from \"./FontLoader\";\nimport Word from \"./Word\";\nimport Line from \"./Line\";\nimport Font from \"./Font\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Character from \"./Character\";\nimport applyShapeEventListeners from \"./utils/apply-shape-event-listeners\";\n\nexport default class Text extends TextContainer {\n  lineHeight: number = null;\n  width = 100;\n  height = 20;\n  align: number = Align.TOP_LEFT;\n  size = 12;\n  tracking = 0;\n  ligatures = false;\n  fillColor = \"#000\";\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  loaderId: number = null;\n  debug = false;\n  words: Word[] = [];\n  lines: Line[] = [];\n  block: createjs.Container;\n  missingGlyphs: any[] = null;\n  renderCycle = true;\n\n  constructor(props: ConstructObj = null) {\n    super();\n    if (props) {\n      this.original = props;\n      this.set(props);\n    }\n    this.loadFonts();\n  }\n\n  getBounds(): createjs.Rectangle {\n    // TODO: obtain intersected bounds of the characters/words in here\n\n    return new createjs.Rectangle(this.x, this.y, this.width, this.height);\n  }\n\n  layout() {\n    this.addAccessibility();\n    this.text = this.text.replace(/([\\n][ \\t]+)/g, \"\\n\");\n    this.words = [];\n    this.lines = [];\n    this.missingGlyphs = null;\n    // TODO - remove composite layout\n    this.removeAllChildren();\n\n    this.block = new createjs.Container();\n    this.addChild(this.block);\n\n    if (this.debug == true) {\n      this.addDebugLayout();\n    }\n\n    if (this.text === \"\" || this.text === undefined) {\n      this.render();\n      this.complete();\n      return;\n    }\n\n    if (this.characterLayout() === false) {\n      this.removeAllChildren();\n      return;\n    }\n\n    if (this.renderCycle === false) {\n      this.removeAllChildren();\n      this.complete();\n      return;\n    }\n\n    this.wordLayout();\n    this.lineLayout();\n\n    this.render();\n    this.complete();\n  }\n\n  /**\n   * Draw baseline, ascent, ascender, and descender lines\n   */\n  private addDebugLayout() {\n    const font: Font = FontLoader.getFont(this.font);\n    //outline\n    let s = new createjs.Shape();\n    s.graphics.beginStroke(\"#FF0000\");\n    s.graphics.setStrokeStyle(1.2);\n    s.graphics.drawRect(0, 0, this.width, this.height);\n    this.addChild(s);\n    //baseline\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#000\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = 0;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#F00\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font[\"cap-height\"] / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#0F0\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.ascent / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#00F\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.descent / font.units) * this.size;\n    this.block.addChild(s);\n  }\n\n  //place characters in words\n  characterLayout(): boolean {\n    //characterlayout adds Charcters to words and measures true height. LineHeight is not a factor til Line layout.\n\n    //char layout\n    const len = this.text.length;\n    let char: Character;\n    const defaultStyle: Style = {\n      size: this.size,\n      font: this.font,\n      tracking: this.tracking,\n      characterCase: this.characterCase,\n      fillColor: this.fillColor,\n      strokeColor: this.strokeColor,\n      strokeWidth: this.strokeWidth\n    };\n    let currentStyle = defaultStyle;\n    let hPosition = 0;\n    let vPosition = 0;\n\n    let currentWord: Word = new Word();\n    // push a new word to capture characters\n    this.words.push(currentWord);\n\n    // loop over characters\n    // place into words\n    for (let i = 0; i < len; i++) {\n      if (this.style !== null && this.style[i] !== undefined) {\n        currentStyle = this.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n        if (currentStyle.characterCase === undefined)\n          currentStyle.characterCase = defaultStyle.characterCase;\n        if (currentStyle.fillColor === undefined)\n          currentStyle.fillColor = defaultStyle.fillColor;\n        if (currentStyle.strokeColor === undefined)\n          currentStyle.strokeColor = defaultStyle.strokeColor;\n        if (currentStyle.strokeWidth === undefined)\n          currentStyle.strokeWidth = defaultStyle.strokeWidth;\n      }\n\n      // newline\n      // mark word as having newline\n      // create new word\n      // new line has no character\n      if (this.text.charAt(i) == \"\\n\") {\n        //only if not last char\n        if (i < len - 1) {\n          currentWord.measuredWidth = hPosition;\n          currentWord.measuredHeight = vPosition;\n          if (currentWord.measuredHeight == 0) {\n            currentWord.measuredHeight = currentStyle.size;\n          }\n          currentWord.hasNewLine = true;\n          currentWord = new Word();\n          this.words.push(currentWord);\n          vPosition = 0;\n          hPosition = 0;\n        }\n\n        continue;\n      }\n\n      //runtime test for font\n      if (FontLoader.isLoaded(currentStyle.font) === false) {\n        FontLoader.load(this, [currentStyle.font]);\n        return false;\n      }\n\n      // create character\n      char = new Character(this.text.charAt(i), currentStyle, i);\n\n      if (this.original.character) {\n        applyShapeEventListeners(this.original.character, char);\n      }\n\n      if (char.missing) {\n        if (this.missingGlyphs == null) {\n          this.missingGlyphs = [];\n        }\n        this.missingGlyphs.push({\n          position: i,\n          character: this.text.charAt(i),\n          font: currentStyle.font\n        });\n      }\n\n      if (char.measuredHeight > vPosition) {\n        vPosition = char.measuredHeight;\n      }\n\n      //swap character if ligature\n      //ligatures removed if tracking or this.ligatures is false\n      if (currentStyle.tracking == 0 && this.ligatures == true) {\n        const ligTarget = this.text.substr(i, 4);\n        i = i + this.ligatureSwap(char, ligTarget);\n      }\n\n      char.x = hPosition;\n\n      // push character into word\n      currentWord.addChild(char);\n\n      // space\n      // mark word as having space\n      // create new word\n      // space character\n      if (this.text.charAt(i) == \" \") {\n        currentWord.hasSpace = true;\n        currentWord.spaceOffset = char._glyph.offset * char.size;\n        hPosition =\n          char.x +\n          char._glyph.offset * char.size +\n          char.characterCaseOffset +\n          char.trackingOffset() +\n          char._glyph.getKerning(this.text.charCodeAt(i + 1), char.size);\n        currentWord.measuredWidth = hPosition;\n        currentWord.measuredHeight = vPosition;\n        hPosition = 0;\n        vPosition = 0;\n        currentWord = new Word();\n        this.words.push(currentWord);\n        continue;\n      }\n\n      // hyphen\n      // mark word as having hyphen\n      // create new word\n      // space character\n      if (this.text.charAt(i) == \"-\") {\n        currentWord.hasHyphen = true;\n      }\n\n      hPosition =\n        char.x +\n        char._glyph.offset * char.size +\n        char.characterCaseOffset +\n        char.trackingOffset() +\n        char._glyph.getKerning(this.text.charCodeAt(i + 1), char.size);\n    }\n    //case of empty word at end.\n    if (currentWord.children.length == 0) {\n      currentWord = this.words[this.words.length - 1];\n      hPosition = currentWord.measuredWidth;\n      vPosition = currentWord.measuredHeight;\n    }\n    currentWord.measuredWidth = hPosition;\n    currentWord.measuredHeight = vPosition;\n\n    return true;\n  }\n\n  //place words in lines\n  wordLayout() {\n    // loop over words\n    // place into lines\n    const len = this.words.length;\n    let currentLine = new Line();\n    this.lines.push(currentLine);\n\n    currentLine.y = 0;\n\n    let currentWord: Word;\n    let lastHeight: number;\n\n    this.block.addChild(currentLine);\n    let hPosition = 0;\n    let vPosition = 0;\n    let firstLine = true;\n\n    let lastLineWord: Word;\n\n    for (let i = 0; i < len; i++) {\n      currentWord = this.words[i];\n      currentWord.x = hPosition;\n\n      if (this.original.word) {\n        applyShapeEventListeners(this.original.word, currentWord);\n      }\n\n      if (firstLine) {\n        vPosition = currentWord.measuredHeight;\n      } else if (this.lineHeight != null) {\n        vPosition = this.lineHeight;\n      } else if (currentWord.measuredHeight > vPosition) {\n        vPosition = currentWord.measuredHeight;\n      }\n\n      //exceeds line width && has new line\n      if (\n        hPosition + currentWord.measuredWidth > this.width &&\n        currentWord.hasNewLine == true &&\n        currentLine.children.length > 0\n      ) {\n        if (this.lineHeight != null) {\n          lastHeight = currentLine.y + this.lineHeight;\n        } else {\n          lastHeight = currentLine.y + vPosition;\n        }\n\n        currentLine.measuredWidth = hPosition;\n        lastLineWord = this.words[i - 1];\n\n        if (lastLineWord != undefined && lastLineWord.hasSpace) {\n          currentLine.measuredWidth -= lastLineWord.spaceOffset;\n        }\n        if (firstLine == false && this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = vPosition;\n        }\n\n        firstLine = false;\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        currentLine.y = lastHeight;\n        hPosition = 0;\n        currentWord.x = 0;\n        this.block.addChild(currentLine);\n        //add word\n        const swapWord = this.words[i];\n        currentLine.addChild(swapWord);\n        if (this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = swapWord.measuredHeight;\n        }\n        currentLine.measuredWidth = swapWord.measuredWidth;\n\n        //add new line\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        if (this.lineHeight != null) {\n          currentLine.y = lastHeight + this.lineHeight;\n        } else {\n          currentLine.y = lastHeight + vPosition;\n        }\n        this.block.addChild(currentLine);\n        if (i < len - 1) {\n          vPosition = 0;\n        }\n\n        continue;\n      }\n\n      //wrap word to new line if length\n      else if (\n        hPosition + currentWord.measuredWidth > this.width &&\n        i > 0 &&\n        currentLine.children.length > 0\n      ) {\n        if (this.lineHeight != null) {\n          lastHeight = currentLine.y + this.lineHeight;\n        } else {\n          lastHeight = currentLine.y + vPosition;\n        }\n        currentLine.measuredWidth = hPosition;\n        lastLineWord = this.words[i - 1];\n        if (lastLineWord != undefined && lastLineWord.hasSpace) {\n          currentLine.measuredWidth -= lastLineWord.spaceOffset;\n        }\n        if (firstLine == false && this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = vPosition;\n        }\n\n        firstLine = false;\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        currentLine.y = lastHeight;\n        if (i < len - 1) {\n          vPosition = 0;\n        }\n        hPosition = 0;\n        currentWord.x = hPosition;\n        this.block.addChild(currentLine);\n      }\n\n      //wrap word to new line if newline\n      else if (currentWord.hasNewLine == true) {\n        if (this.lineHeight != null) {\n          lastHeight = currentLine.y + this.lineHeight;\n        } else {\n          lastHeight = currentLine.y + vPosition;\n        }\n        currentLine.measuredWidth = hPosition + currentWord.measuredWidth;\n        if (firstLine == false && this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = vPosition;\n        }\n        currentLine.addChild(this.words[i]);\n\n        firstLine = false;\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        currentLine.y = lastHeight;\n        if (i < len - 1) {\n          vPosition = 0;\n        }\n        hPosition = 0;\n\n        this.block.addChild(currentLine);\n\n        continue;\n      }\n\n      hPosition = hPosition + currentWord.measuredWidth;\n      currentLine.addChild(this.words[i]);\n    }\n\n    //case of empty word at end.\n    if (currentLine.children.length == 0) {\n      currentLine = this.lines[this.lines.length - 1];\n    }\n\n    currentLine.measuredWidth = hPosition;\n    currentLine.measuredHeight = vPosition;\n  }\n\n  lineLayout() {\n    // loop over lines\n    // place into text\n    let measuredHeight = 0;\n    let line;\n    const a = Align;\n    const fnt: Font = FontLoader.getFont(this.font);\n\n    const len = this.lines.length;\n    for (let i = 0; i < len; i++) {\n      line = this.lines[i];\n\n      if (this.original.line) {\n        applyShapeEventListeners(this.original.line, line);\n      }\n\n      //correct measuredWidth if last line character contains tracking\n      if (line.lastWord() != undefined && line.lastWord().lastCharacter()) {\n        line.measuredWidth -= line\n          .lastWord()\n          .lastCharacter()\n          .trackingOffset();\n      }\n\n      measuredHeight += line.measuredHeight;\n      if (this.align === a.TOP_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.TOP_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.MIDDLE_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.MIDDLE_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.BOTTOM_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.BOTTOM_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      }\n    }\n\n    //TOP ALIGNED\n    if (\n      this.align === a.TOP_LEFT ||\n      this.align === a.TOP_CENTER ||\n      this.align === a.TOP_RIGHT\n    ) {\n      this.block.y =\n        (this.lines[0].measuredHeight * fnt.ascent) / fnt.units +\n        (this.lines[0].measuredHeight * fnt.top) / fnt.units;\n\n      //MIDDLE ALIGNED\n    } else if (\n      this.align === a.MIDDLE_LEFT ||\n      this.align === a.MIDDLE_CENTER ||\n      this.align === a.MIDDLE_RIGHT\n    ) {\n      this.block.y =\n        this.lines[0].measuredHeight +\n        (this.height - measuredHeight) / 2 +\n        (this.lines[0].measuredHeight * fnt.middle) / fnt.units;\n\n      //BOTTOM ALIGNED\n    } else if (\n      this.align === a.BOTTOM_LEFT ||\n      this.align === a.BOTTOM_CENTER ||\n      this.align === a.BOTTOM_RIGHT\n    ) {\n      this.block.y =\n        this.height -\n        this.lines[this.lines.length - 1].y +\n        (this.lines[0].measuredHeight * fnt.bottom) / fnt.units;\n    }\n\n    if (this.original.block) {\n      applyShapeEventListeners(this.original.block, this.block);\n    }\n  }\n}\n","export enum PathFit {\n  Rainbow,\n  Stairstep\n}\n\nexport interface PathPoint {\n  x: number;\n  y: number;\n  rotation?: number;\n  offsetX?: number;\n}\n\nexport enum PathAlign {\n  Center,\n  Right,\n  Left\n}\n\nexport default class Path {\n  private pathElement: SVGPathElement = null;\n  path: string = null;\n  start = 0;\n  center: number = null;\n  end: number = null;\n  angles: any[] = null;\n  flipped = false;\n  fit: PathFit = PathFit.Rainbow;\n  align: PathAlign = PathAlign.Center;\n  length: number = null;\n  realLength: number = null;\n  closed = false;\n  clockwise = true;\n\n  constructor(\n    path: string,\n    start = 0,\n    end: number = null,\n    flipped = false,\n    fit: PathFit = PathFit.Rainbow,\n    align: PathAlign = PathAlign.Center\n  ) {\n    this.path = path;\n    this.start = start;\n    this.align = align;\n    this.end = end;\n    this.flipped = flipped;\n    this.fit = fit;\n    this.update();\n  }\n\n  update() {\n    this.pathElement = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"path\"\n    ) as SVGPathElement;\n    this.pathElement.setAttributeNS(null, \"d\", this.path);\n    this.length = this.pathElement.getTotalLength();\n    this.closed = this.path.toLowerCase().indexOf(\"z\") != -1;\n    const pointlength = this.length / 10;\n    const points = [];\n\n    points.push(this.getRealPathPoint(0));\n    points.push(this.getRealPathPoint(pointlength));\n    points.push(this.getRealPathPoint(pointlength * 2));\n    points.push(this.getRealPathPoint(pointlength * 3));\n    points.push(this.getRealPathPoint(pointlength * 4));\n    points.push(this.getRealPathPoint(pointlength * 5));\n    points.push(this.getRealPathPoint(pointlength * 6));\n    points.push(this.getRealPathPoint(pointlength * 7));\n    points.push(this.getRealPathPoint(pointlength * 8));\n    points.push(this.getRealPathPoint(pointlength * 9));\n    points.push(this.getRealPathPoint(pointlength * 10));\n\n    const clock =\n      (points[1].x - points[0].x) * (points[1].y + points[0].y) +\n      (points[2].x - points[1].x) * (points[2].y + points[1].y) +\n      (points[3].x - points[2].x) * (points[3].y + points[2].y) +\n      (points[4].x - points[3].x) * (points[4].y + points[3].y) +\n      (points[5].x - points[4].x) * (points[5].y + points[4].y) +\n      (points[6].x - points[5].x) * (points[6].y + points[5].y) +\n      (points[7].x - points[6].x) * (points[7].y + points[6].y) +\n      (points[8].x - points[7].x) * (points[8].y + points[7].y) +\n      (points[9].x - points[8].x) * (points[9].y + points[8].y) +\n      (points[10].x - points[9].x) * (points[10].y + points[9].y);\n    if (clock > 0) {\n      this.clockwise = false;\n    } else {\n      this.clockwise = true;\n    }\n\n    if (this.end == null) {\n      this.end = this.length;\n    }\n    if (this.closed == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.start - this.realLength / 2;\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      } else {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.start - this.realLength / 2;\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      }\n    } else if (this.clockwise == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.end + this.realLength / 2;\n        } else {\n          this.realLength = this.start + this.length - this.end;\n          this.center = this.end + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        }\n      } else {\n        if (this.start > this.end) {\n          this.realLength = this.end + this.length - this.start;\n          this.center = this.start + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      }\n    } else {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          this.realLength = this.end + this.length - this.start;\n          this.center = this.start + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      } else {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.end + this.realLength / 2;\n        } else {\n          this.realLength = this.start + this.length - this.end;\n          this.center = this.end + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        }\n      }\n    }\n  }\n\n  getRealPathPoint(distance: number): PathPoint {\n    if (distance > this.length) {\n      return this.pathElement.getPointAtLength(distance - this.length);\n    } else if (distance < 0) {\n      return this.pathElement.getPointAtLength(distance + this.length);\n    } else {\n      return this.pathElement.getPointAtLength(distance);\n    }\n  }\n\n  getPathPoint(\n    distance: number,\n    characterLength = 0,\n    charOffset = 0\n  ): PathPoint {\n    distance = distance * 0.99;\n    characterLength = characterLength * 0.99;\n\n    let point1: PathPoint;\n    let point2: PathPoint;\n    let position: number;\n    let direction = true;\n    let realStart = 0;\n\n    if (this.closed == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n          position = realStart - distance;\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart + distance;\n        }\n      } else {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n          position = realStart - distance;\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart - distance;\n        }\n      }\n    } else if (this.clockwise == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n\n          position = realStart - distance;\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n            position = realStart - distance;\n          }\n\n          if (position < 0) {\n            position = position + this.length;\n          }\n          direction = false;\n        }\n      } else {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n            position = realStart + distance;\n          }\n\n          if (position > this.length) {\n            position = position - this.length;\n          }\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart + distance;\n        }\n      }\n    } else {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n            position = realStart - distance;\n          }\n\n          if (position < 0) {\n            position = position + this.length;\n          }\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n          position = realStart - distance;\n          direction = false;\n        }\n      } else {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart + distance;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n            position = realStart + distance;\n          }\n\n          if (position > this.length) {\n            position = position - this.length;\n          }\n        }\n      }\n    }\n\n    point1 = this.getRealPathPoint(position);\n    const segment = this.pathElement.pathSegList.getItem(\n      this.pathElement.getPathSegAtLength(position)\n    ).pathSegType;\n\n    if (\n      segment == 4 &&\n      !direction &&\n      this.pathElement.getPathSegAtLength(position) !=\n        this.pathElement.getPathSegAtLength(position - charOffset)\n    ) {\n      const pp0 = this.getRealPathPoint(position);\n      const pp1 = this.getRealPathPoint(position - charOffset);\n      const ppc = this.pathElement.pathSegList.getItem(\n        this.pathElement.getPathSegAtLength(position) - 1\n      );\n      const d0 = Math.sqrt(\n        Math.pow(pp0.x - ppc[\"x\"], 2) + Math.pow(pp0.y - ppc[\"y\"], 2)\n      );\n\n      const d1 = Math.sqrt(\n        Math.pow(pp1.x - ppc[\"x\"], 2) + Math.pow(pp1.y - ppc[\"y\"], 2)\n      );\n\n      if (d0 > d1) {\n        point1 = pp0;\n        point2 = { x: ppc[\"x\"], y: ppc[\"y\"] };\n\n        let rot12 =\n          (Math.atan((point2.y - point1.y) / (point2.x - point1.x)) * 180) /\n          Math.PI;\n        if (point1.x > point2.x) {\n          rot12 = rot12 + 180;\n        }\n\n        if (rot12 < 0) {\n          rot12 = rot12 + 360;\n        }\n        if (rot12 > 360) {\n          rot12 = rot12 - 360;\n        }\n\n        point1.rotation = rot12;\n        return point1;\n      } else {\n        point1 = { x: ppc[\"x\"], y: ppc[\"y\"] };\n        point1.offsetX = -d0;\n        point1[\"next\"] = true;\n        return point1;\n      }\n    }\n\n    if (direction) {\n      point2 = this.getRealPathPoint(position + charOffset);\n    } else {\n      point2 = this.getRealPathPoint(position - charOffset);\n    }\n\n    let rot12 =\n      (Math.atan((point2.y - point1.y) / (point2.x - point1.x)) * 180) /\n      Math.PI;\n\n    if (point1.x > point2.x) {\n      rot12 = rot12 + 180;\n    }\n\n    if (rot12 < 0) {\n      rot12 = rot12 + 360;\n    }\n    if (rot12 > 360) {\n      rot12 = rot12 - 360;\n    }\n\n    point1.rotation = rot12;\n    return point1;\n  }\n}\n","enum VerticalAlign {\n  Top,\n  CapHeight,\n  Center,\n  BaseLine,\n  Bottom,\n  XHeight,\n  Ascent,\n  Percent\n}\n\nexport default VerticalAlign;\n","import TextContainer from \"./TextContainer\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Path, { PathFit, PathAlign } from \"./Path\";\nimport VerticalAlign from \"./VerticalAlign\";\nimport FontLoader from \"./FontLoader\";\nimport Character from \"./Character\";\nimport Font from \"./Font\";\nimport applyShapeEventListeners from \"./utils/apply-shape-event-listeners\";\n\nexport default class PathText extends TextContainer {\n  size = 12;\n  tracking = 0;\n  ligatures = false;\n  minSize: number = null;\n  maxTracking: number = null;\n  fillColor = \"#000\";\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  debug = false;\n  characters: Character[];\n  block: createjs.Container;\n  original: ConstructObj = null;\n  autoExpand = false;\n  autoReduce = false;\n  overset = false;\n  oversetIndex: number = null;\n  pathPoints: Path = null;\n  path = \"\";\n  start = 0;\n  end: number = null;\n  flipped = false;\n  fit: PathFit = PathFit.Rainbow;\n  align: PathAlign = PathAlign.Center;\n  valign: VerticalAlign = VerticalAlign.BaseLine;\n  missingGlyphs: any[] = null;\n  renderCycle = true;\n  valignPercent = 1;\n  initialTracking = 0;\n  initialOffset = 0;\n  measured = false;\n  oversetPotential = false;\n\n  constructor(props: ConstructObj = null) {\n    super();\n\n    if (props) {\n      this.original = props;\n      this.set(props);\n      this.original.tracking = this.tracking;\n    }\n    this.loadFonts();\n    this.pathPoints = new Path(\n      this.path,\n      this.start,\n      this.end,\n      this.flipped,\n      this.fit,\n      this.align\n    );\n  }\n\n  setPath(path: string) {\n    this.path = path;\n    this.pathPoints.path = this.path;\n    this.pathPoints.update();\n  }\n\n  setStart(start: number) {\n    this.start = start;\n    this.pathPoints.start = this.start;\n    this.pathPoints.update();\n  }\n\n  setEnd(end: number) {\n    this.end = end;\n    this.pathPoints.end = this.end;\n    this.pathPoints.update();\n  }\n\n  setFlipped(flipped: boolean) {\n    this.flipped = flipped;\n    this.pathPoints.flipped = this.flipped;\n    this.pathPoints.update();\n  }\n\n  setFit(fit: PathFit = PathFit.Rainbow) {\n    this.fit = fit;\n    this.pathPoints.fit = this.fit;\n    this.pathPoints.update();\n  }\n\n  setAlign(align: PathAlign = PathAlign.Center) {\n    this.align = align;\n    this.pathPoints.align = this.align;\n    this.pathPoints.update();\n  }\n\n  getWidth(): number {\n    return this.pathPoints.realLength;\n  }\n\n  layout() {\n    this.addAccessibility();\n    this.overset = false;\n    this.oversetIndex = null;\n    this.removeAllChildren();\n    this.characters = [];\n    this.missingGlyphs = null;\n    this.measured = false;\n    this.oversetPotential = false;\n    if (this.debug == true) {\n      this.addDebugLayout();\n    }\n\n    if (this.text === \"\" || this.text === undefined) {\n      this.render();\n      return;\n    }\n\n    this.block = new createjs.Container();\n    this.addChild(this.block);\n\n    if (this.autoExpand === true || this.autoReduce === true) {\n      if (this.measure() === false) {\n        this.removeAllChildren();\n        return;\n      }\n    }\n\n    if (this.renderCycle === false) {\n      this.removeAllChildren();\n      this.complete();\n      return;\n    }\n\n    if (this.characterLayout() === false) {\n      this.removeAllChildren();\n      return;\n    }\n    this.render();\n    this.complete();\n  }\n\n  private addDebugLayout() {\n    let s = new createjs.Shape();\n    s.graphics.beginStroke(\"#FF0000\");\n    s.graphics.setStrokeStyle(0.1);\n    s.graphics.decodeSVGPath(this.path);\n    s.graphics.endFill();\n    s.graphics.endStroke();\n    this.addChild(s);\n    s = new createjs.Shape();\n    let pp = this.pathPoints.getRealPathPoint(0);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"black\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n    s = new createjs.Shape();\n    pp = this.pathPoints.getRealPathPoint(this.pathPoints.start);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"green\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n    s = new createjs.Shape();\n    pp = this.pathPoints.getRealPathPoint(this.pathPoints.end);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"red\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n    s = new createjs.Shape();\n    pp = this.pathPoints.getRealPathPoint(this.pathPoints.center);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"blue\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n  }\n\n  measure(): boolean {\n    this.measured = true;\n    //Extract orgin sizing from this.original to preserve\n    //metrics. autoMeasure will change style properties\n    //directly. Change this.original to rerender.\n\n    let len = this.text.length;\n    const width = this.getWidth();\n    const defaultStyle = {\n      size: this.original.size,\n      font: this.original.font,\n      tracking: this.original.tracking,\n      characterCase: this.original.characterCase\n    };\n    let currentStyle: any;\n    let charCode: number = null;\n    let font: Font;\n    const charMetrics = [];\n    let largestFontSize = defaultStyle.size;\n    for (let i = 0; i < len; i++) {\n      charCode = this.text.charCodeAt(i);\n\n      currentStyle = defaultStyle;\n      if (\n        this.original.style !== undefined &&\n        this.original.style[i] !== undefined\n      ) {\n        currentStyle = this.original.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n      }\n      if (currentStyle.size > largestFontSize) {\n        largestFontSize = currentStyle.size;\n      }\n      font = FontLoader.fonts[currentStyle.font];\n      charMetrics.push({\n        char: this.text[i],\n        size: currentStyle.size,\n        charCode: charCode,\n        font: currentStyle.font,\n        offset: font.glyphs[charCode].offset,\n        units: font.units,\n        tracking: this.trackingOffset(\n          currentStyle.tracking,\n          currentStyle.size,\n          font.units\n        ),\n        kerning: font.glyphs[charCode].getKerning(this.getCharCodeAt(i + 1), 1)\n      });\n    }\n\n    //save space char using last known width/height\n    const space: any = {\n      char: \" \",\n      size: currentStyle.size,\n      charCode: 32,\n      font: currentStyle.font,\n      offset: font.glyphs[32].offset,\n      units: font.units,\n      tracking: 0,\n      kerning: 0\n    };\n\n    charMetrics[charMetrics.length - 1].tracking = 0;\n    //charMetrics[ charMetrics.length-1 ].kerning=0;\n\n    len = charMetrics.length;\n\n    //measured without size\n    let metricBaseWidth = 0;\n    //measured at size\n    let metricRealWidth = 0;\n    //measured at size with tracking\n    let metricRealWidthTracking = 0;\n\n    let current = null;\n    for (let i = 0; i < len; i++) {\n      current = charMetrics[i];\n      metricBaseWidth = metricBaseWidth + current.offset + current.kerning;\n      metricRealWidth =\n        metricRealWidth + (current.offset + current.kerning) * current.size;\n      metricRealWidthTracking =\n        metricRealWidthTracking +\n        (current.offset + current.kerning + current.tracking) * current.size;\n    }\n\n    //size cases\n    if (metricRealWidth > width) {\n      if (this.autoReduce === true) {\n        this.tracking = 0;\n        this.size =\n          (this.original.size * width) /\n          (metricRealWidth + space.offset * space.size);\n        if (this.minSize != null && this.size < this.minSize) {\n          this.size = this.minSize;\n          if (this.renderCycle === false) {\n            this.overset = true;\n          } else {\n            this.oversetPotential = true;\n          }\n        }\n        return true;\n      }\n      //tracking cases\n    } else {\n      let trackMetric = this.offsetTracking(\n        (width - metricRealWidth) / len,\n        current.size,\n        current.units\n      );\n      if (trackMetric < 0) {\n        trackMetric = 0;\n      }\n      //autoexpand case\n      if (trackMetric > this.original.tracking && this.autoExpand) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n      //autoreduce tracking case\n      if (trackMetric < this.original.tracking && this.autoReduce) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n    }\n    return true;\n  }\n\n  //place characters in words\n  characterLayout(): boolean {\n    //char layout\n    let len = this.text.length;\n    let char: Character;\n    const defaultStyle: Style = {\n      size: this.size,\n      font: this.font,\n      tracking: this.tracking,\n      characterCase: this.characterCase,\n      fillColor: this.fillColor,\n      strokeColor: this.strokeColor,\n      strokeWidth: this.strokeWidth\n    };\n    let currentStyle = defaultStyle;\n    let hPosition = 0;\n\n    // loop over characters\n    // place into lines\n    for (let i = 0; i < len; i++) {\n      if (this.style !== null && this.style[i] !== undefined) {\n        currentStyle = this.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n        if (currentStyle.characterCase === undefined)\n          currentStyle.characterCase = defaultStyle.characterCase;\n        if (currentStyle.fillColor === undefined)\n          currentStyle.fillColor = defaultStyle.fillColor;\n        if (currentStyle.strokeColor === undefined)\n          currentStyle.strokeColor = defaultStyle.strokeColor;\n        if (currentStyle.strokeWidth === undefined)\n          currentStyle.strokeWidth = defaultStyle.strokeWidth;\n      }\n\n      // newline\n      if (this.text.charAt(i) == \"\\n\") {\n        continue;\n      }\n\n      //runtime test for font\n      if (FontLoader.isLoaded(currentStyle.font) === false) {\n        FontLoader.load(this, [currentStyle.font]);\n        return false;\n      }\n\n      //initalize with initialTracking and initialOffset;\n      if (hPosition == 0) {\n        hPosition =\n          this.initialOffset +\n          this.trackingOffset(\n            this.initialTracking,\n            currentStyle.size,\n            FontLoader.getFont(currentStyle.font).units\n          );\n      }\n\n      // create character\n      char = new Character(this.text.charAt(i), currentStyle, i);\n      if (this.original.character) {\n        applyShapeEventListeners(this.original.character, char);\n      }\n\n      if (char.missing) {\n        if (this.missingGlyphs == null) {\n          this.missingGlyphs = [];\n        }\n        this.missingGlyphs.push({\n          position: i,\n          character: this.text.charAt(i),\n          font: currentStyle.font\n        });\n      }\n\n      //swap character if ligature\n      //ligatures removed if tracking or this.ligatures is false\n      if (currentStyle.tracking == 0 && this.ligatures == true) {\n        //1 char match\n        const ligTarget = this.text.substr(i, 4);\n        if (char._font.ligatures[ligTarget.charAt(0)]) {\n          //2 char match\n          if (char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)]) {\n            //3 char match\n            if (\n              char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)][\n                ligTarget.charAt(2)\n              ]\n            ) {\n              //4 char match\n              if (\n                char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)][\n                  ligTarget.charAt(2)\n                ][ligTarget.charAt(3)]\n              ) {\n                //swap 4 char ligature\n                char.setGlyph(\n                  char._font.ligatures[ligTarget.charAt(0)][\n                    ligTarget.charAt(1)\n                  ][ligTarget.charAt(2)][ligTarget.charAt(3)].glyph\n                );\n                i = i + 3;\n              } else {\n                //swap 3 char ligature\n                char.setGlyph(\n                  char._font.ligatures[ligTarget.charAt(0)][\n                    ligTarget.charAt(1)\n                  ][ligTarget.charAt(2)].glyph\n                );\n                i = i + 2;\n              }\n            } else {\n              //swap 2 char ligature\n              char.setGlyph(\n                char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)]\n                  .glyph\n              );\n              i = i + 1;\n            }\n          }\n        }\n      }\n\n      //char.hPosition = hPosition;\n\n      // push character into block\n      //this.characters.push( char );\n      //this.block.addChild( char );\n\n      if (this.overset == true) {\n        break;\n      } else if (\n        this.measured == true &&\n        hPosition + char.measuredWidth > this.getWidth() &&\n        this.oversetPotential == true\n      ) {\n        //char.hPosition = hPosition;\n        //this.characters.push( char );\n        //this.block.addChild( char );\n\n        //this.block.removeChild(this.characters.pop() );\n        this.oversetIndex = i;\n        this.overset = true;\n        break;\n      } else if (\n        this.measured == false &&\n        hPosition + char.measuredWidth > this.getWidth()\n      ) {\n        //char.hPosition = hPosition;\n        //this.characters.push( char );\n        //this.block.addChild( char );\n\n        //this.block.removeChild(this.characters.pop() );\n        this.oversetIndex = i;\n        this.overset = true;\n        break;\n      } else {\n        char.hPosition = hPosition;\n        this.characters.push(char);\n        this.block.addChild(char);\n      }\n\n      //char.x = hPosition;\n      hPosition =\n        hPosition +\n        char._glyph.offset * char.size +\n        char.characterCaseOffset +\n        char.trackingOffset() +\n        char._glyph.getKerning(this.getCharCodeAt(i + 1), char.size);\n    }\n\n    len = this.characters.length;\n    let pathPoint: any;\n    let nextRotation = false;\n    for (let i = 0; i < len; i++) {\n      char = this.characters[i] as Character;\n      pathPoint = this.pathPoints.getPathPoint(\n        char.hPosition,\n        hPosition,\n        char._glyph.offset * char.size\n      );\n      //correct rotation around linesegments\n      if (nextRotation == true) {\n        this.characters[i - 1].parent.rotation = pathPoint.rotation;\n        nextRotation = false;\n      }\n      if (pathPoint.next == true) {\n        nextRotation = true;\n      }\n\n      char.rotation = pathPoint.rotation;\n\n      //Baseline\n      if (this.valign == VerticalAlign.BaseLine) {\n        char.x = pathPoint.x;\n        char.y = pathPoint.y;\n\n        //reparent child into offset container\n        if (pathPoint.offsetX) {\n          const offsetChild = new createjs.Container();\n          offsetChild.x = pathPoint.x;\n          offsetChild.y = pathPoint.y;\n          offsetChild.rotation = pathPoint.rotation;\n          char.parent.removeChild(char);\n          offsetChild.addChild(char);\n          char.x = pathPoint.offsetX;\n          char.y = 0;\n          char.rotation = 0;\n          this.addChild(offsetChild);\n        } else {\n          char.x = pathPoint.x;\n          char.y = pathPoint.y;\n          char.rotation = pathPoint.rotation;\n        }\n      } else {\n        const offsetChild = new createjs.Container();\n        offsetChild.x = pathPoint.x;\n        offsetChild.y = pathPoint.y;\n        offsetChild.rotation = pathPoint.rotation;\n        char.parent.removeChild(char);\n        offsetChild.addChild(char);\n        char.x = 0;\n\n        //vertical alignment\n        if (this.valign == VerticalAlign.Top) {\n          char.y = char.size;\n        } else if (this.valign == VerticalAlign.Bottom) {\n          char.y = (char._font.descent / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.CapHeight) {\n          char.y = (char._font[\"cap-height\"] / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.XHeight) {\n          char.y = (char._font[\"x-height\"] / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.Ascent) {\n          char.y = (char._font.ascent / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.Center) {\n          char.y =\n            ((char._font[\"cap-height\"] / char._font.units) * char.size) / 2;\n        } else if (this.valign == VerticalAlign.Percent) {\n          char.y = this.valignPercent * char.size;\n        } else {\n          char.y = 0;\n        }\n        char.rotation = 0;\n        this.addChild(offsetChild);\n      }\n    }\n\n    if (this.original.block) {\n      applyShapeEventListeners(this.original.block, this.block);\n    }\n\n    return true;\n  }\n\n  trackingOffset(tracking: number, size: number, units: number): number {\n    return size * (2.5 / units + 1 / 900 + tracking / 990);\n  }\n\n  offsetTracking(offset: number, size: number, units: number): number {\n    return Math.floor(((offset - 2.5 / units - 1 / 900) * 990) / size);\n  }\n}\n","import \"./GraphicsMixin\";\n\nexport { default as Accessibility } from \"./Accessibility\";\nexport { default as Align } from \"./Align\";\nexport { default as Case } from \"./Case\";\nexport { default as Character } from \"./Character\";\nexport { default as CharacterText } from \"./CharacterText\";\nexport { default as Font } from \"./Font\";\nexport { default as FontLoader } from \"./FontLoader\";\nexport { default as Glyph } from \"./Glyph\";\nexport { default as Graphics } from \"./Graphics\";\nexport { default as Info } from \"./Info\";\nexport { default as Line } from \"./Line\";\nexport { default as Text } from \"./Text\";\nexport { default as Path, PathAlign, PathFit } from \"./Path\";\nexport { default as PathText } from \"./PathText\";\nexport { default as VerticalAlign } from \"./VerticalAlign\";\nexport { default as Word } from \"./Word\";\n\nimport copyEventListeners from \"./utils/apply-shape-event-listeners\";\n\nexport const Util = {\n  copyEventListeners\n};\n"],"names":["Case","Align","applyShapeEventListeners","PathFit","PathAlign","VerticalAlign"],"mappings":"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"}