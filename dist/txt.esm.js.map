{"version":3,"file":"txt.esm.js","sources":["../src/SVGArc.ts","../src/SVGPath.ts","../src/Graphics.ts","../src/applyMixins.ts","../src/GraphicsMixin.ts","../src/Accessibility.ts","../src/Align.ts","../src/Case.ts","../node_modules/tslib/tslib.es6.js","../src/Font.ts","../src/Glyph.ts","../src/FontLoader.ts","../src/Character.ts","../src/TextContainer.ts","../src/Line.ts","../src/utils/apply-shape-event-listeners.ts","../src/CharacterText.ts","../src/Info.ts","../src/Word.ts","../src/Text.ts","../src/Path.ts","../src/VerticalAlign.ts","../src/PathText.ts","../src/index.ts"],"sourcesContent":["export default class SVGArc {\n  r0: number;\n  r1: number;\n  cx: number;\n  cy: number;\n  phi: number;\n  rx: number;\n  ry: number;\n  start: number;\n  end: number;\n  fS: boolean;\n  x2: number[];\n\n  mag(v) {\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n  }\n\n  meanVec(u, v) {\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n  }\n\n  dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n  }\n\n  ratio(u, v) {\n    return this.dot(u, v) / (this.mag(u) * this.mag(v));\n  }\n\n  rotClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n  }\n\n  pointMul(u, v) {\n    return [u[0] * v[0], u[1] * v[1]];\n  }\n\n  scale(c, v) {\n    return [c * v[0], c * v[1]];\n  }\n\n  sum(u, v) {\n    return [u[0] + v[0], u[1] + v[1]];\n  }\n\n  angle(u, v) {\n    let sign = 1.0;\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\n      sign = -1.0;\n    }\n    return sign * Math.acos(this.ratio(u, v));\n  }\n\n  rotCounterClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n  }\n\n  midPoint(u, v) {\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n  }\n\n  constructor(\n    x1: number[],\n    rx: number,\n    ry: number,\n    phiarg: number,\n    fA: boolean,\n    fS: boolean,\n    x2: number[]\n  ) {\n    this.rx = rx;\n    this.ry = ry;\n    this.x2 = x2;\n    if (rx == 0 || ry == 0) {\n      return;\n    }\n    const phi = phiarg * (Math.PI / 180.0);\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const xPrime = this.rotClockwise(this.midPoint(x1, x2), phi); // F.6.5.1\n    const xPrime2 = this.pointMul(xPrime, xPrime);\n    let rx2 = Math.pow(rx, 2);\n    let ry2 = Math.pow(ry, 2);\n\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n    if (lambda > 1) {\n      rx *= lambda;\n      ry *= lambda;\n      rx2 = Math.pow(rx, 2);\n      ry2 = Math.pow(ry, 2);\n    }\n    let t = rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0];\n    if (t > -0.000001 && t < 0.000001) {\n      t = 0;\n    }\n    let b = rx2 * xPrime2[1] + ry2 * xPrime2[0];\n    if (b > -0.000001 && b < 0.000001) {\n      b = 0;\n    }\n    let factor = Math.sqrt(t / b);\n    if (fA == fS) {\n      factor *= -1.0;\n    }\n    const cPrime = this.scale(factor, [\n      (rx * xPrime[1]) / ry,\n      (-ry * xPrime[0]) / rx\n    ]);\n    const c = this.sum(\n      this.rotCounterClockwise(cPrime, phi),\n      this.meanVec(x1, x2)\n    );\n    const x1UnitVector = [\n      (xPrime[0] - cPrime[0]) / rx,\n      (xPrime[1] - cPrime[1]) / ry\n    ];\n    const x2UnitVector = [\n      (-1.0 * xPrime[0] - cPrime[0]) / rx,\n      (-1.0 * xPrime[1] - cPrime[1]) / ry\n    ];\n    const theta = this.angle([1, 0], x1UnitVector);\n    let deltaTheta = this.angle(x1UnitVector, x2UnitVector);\n    if (isNaN(deltaTheta)) {\n      deltaTheta = Math.PI;\n    }\n    const start = theta;\n    const end = theta + deltaTheta;\n    this.cx = c[0];\n    this.cy = c[1];\n    this.phi = phi;\n    this.rx = rx;\n    this.ry = ry;\n    this.start = start;\n    this.end = end;\n    this.fS = !fS;\n  }\n\n  exec(ctx: CanvasRenderingContext2D) {\n    if (this.rx == 0 || this.ry == 0) {\n      ctx.lineTo(this.x2[0], this.x2[1]);\n      return;\n    }\n    ctx.translate(this.cx, this.cy);\n    ctx.rotate(this.phi);\n    ctx.scale(this.rx, this.ry);\n    ctx.arc(0, 0, 1, this.start, this.end, this.fS);\n    ctx.scale(1 / this.rx, 1 / this.ry);\n    ctx.rotate(-this.phi);\n    ctx.translate(-this.cx, -this.cy);\n  }\n}\n","export function parsePathData(data) {\n  if (!data) {\n    return [];\n  }\n  let cs = data;\n  const cc = [\n    \"m\",\n    \"M\",\n    \"l\",\n    \"L\",\n    \"v\",\n    \"V\",\n    \"h\",\n    \"H\",\n    \"z\",\n    \"Z\",\n    \"c\",\n    \"C\",\n    \"q\",\n    \"Q\",\n    \"t\",\n    \"T\",\n    \"s\",\n    \"S\",\n    \"a\",\n    \"A\"\n  ];\n  cs = cs.replace(new RegExp(\" \", \"g\"), \",\");\n  for (let n = 0; n < cc.length; n++) {\n    cs = cs.replace(new RegExp(cc[n], \"g\"), \"|\" + cc[n]);\n  }\n  const arr = cs.split(\"|\");\n  const ca = [];\n  let cpx = 0;\n  let cpy = 0;\n  const arrLength = arr.length;\n  let startPoint = null;\n  for (let n = 1; n < arrLength; n++) {\n    let str = arr[n];\n    let c = str.charAt(0);\n    str = str.slice(1);\n    str = str.replace(new RegExp(\",-\", \"g\"), \"-\");\n    str = str.replace(new RegExp(\"-\", \"g\"), \",-\");\n    str = str.replace(new RegExp(\"e,-\", \"g\"), \"e-\");\n    let p = str.split(\",\");\n    if (p.length > 0 && p[0] === \"\") {\n      p.shift();\n    }\n    const pLength = p.length;\n    for (let i = 0; i < pLength; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n    if (c === \"z\" || c === \"Z\") {\n      p = [true];\n    }\n\n    while (p.length > 0) {\n      if (isNaN(p[0])) {\n        break;\n      }\n      let cmd = null;\n      let points = [];\n      const startX = cpx,\n        startY = cpy;\n      let prevCmd, ctlPtx, ctlPty;\n      let rx, ry, psi, fa, fs, x1, y1;\n      let dx, dy;\n\n      switch (c) {\n        case \"l\":\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"L\":\n          cpx = p.shift();\n          cpy = p.shift();\n          points.push(cpx, cpy);\n          break;\n\n        case \"m\":\n          dx = p.shift();\n          dy = p.shift();\n          cpx += dx;\n          cpy += dy;\n          if (startPoint == null) {\n            startPoint = [cpx, cpy];\n          }\n          cmd = \"M\";\n          points.push(cpx, cpy);\n          c = \"l\";\n          break;\n\n        case \"M\":\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"M\";\n          if (startPoint == null) {\n            startPoint = [cpx, cpy];\n          }\n          points.push(cpx, cpy);\n          c = \"L\";\n          break;\n\n        case \"h\":\n          cpx += p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"H\":\n          cpx = p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"v\":\n          cpy += p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"V\":\n          cpy = p.shift();\n          cmd = \"L\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"C\":\n          points.push(p.shift(), p.shift(), p.shift(), p.shift());\n          cpx = p.shift();\n          cpy = p.shift();\n          points.push(cpx, cpy);\n          break;\n\n        case \"c\":\n          points.push(\n            cpx + p.shift(),\n            cpy + p.shift(),\n            cpx + p.shift(),\n            cpy + p.shift()\n          );\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"C\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"S\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"C\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n            ctlPty = cpy + (cpy - prevCmd.points[3]);\n          }\n          points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"C\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"s\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"C\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n            ctlPty = cpy + (cpy - prevCmd.points[3]);\n          }\n          points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"C\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"Q\":\n          points.push(p.shift(), p.shift());\n          cpx = p.shift();\n          cpy = p.shift();\n          points.push(cpx, cpy);\n          break;\n\n        case \"q\":\n          points.push(cpx + p.shift(), cpy + p.shift());\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"Q\";\n          points.push(cpx, cpy);\n          break;\n\n        case \"T\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"Q\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n            ctlPty = cpy + (cpy - prevCmd.points[1]);\n          }\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"Q\";\n          points.push(ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case \"t\":\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          prevCmd = ca[ca.length - 1];\n          if (prevCmd.command === \"Q\") {\n            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n            ctlPty = cpy + (cpy - prevCmd.points[1]);\n          }\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"Q\";\n          points.push(ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case \"A\":\n          rx = p.shift();\n          ry = p.shift();\n          psi = p.shift();\n          fa = p.shift();\n          fs = p.shift();\n          x1 = cpx;\n          y1 = cpy;\n          cpx = p.shift();\n          cpy = p.shift();\n          cmd = \"A\";\n          points = [[x1, y1], rx, ry, psi, fa, fs, [cpx, cpy]];\n          break;\n\n        case \"a\":\n          rx = p.shift();\n          ry = p.shift();\n          psi = p.shift();\n          fa = p.shift();\n          fs = p.shift();\n          x1 = cpx;\n          y1 = cpy;\n          cpx += p.shift();\n          cpy += p.shift();\n          cmd = \"A\";\n          points = [[x1, y1], rx, ry, psi, fa, fs, [cpx, cpy]];\n          break;\n\n        case \"z\":\n          cmd = \"Z\";\n          if (startPoint) {\n            cpx = startPoint[0];\n            cpy = startPoint[1];\n            startPoint = null;\n          } else {\n            cpx = 0;\n            cpy = 0;\n          }\n          p.shift();\n          points = [cpx, cpy];\n          break;\n\n        case \"Z\":\n          cmd = \"Z\";\n          if (startPoint) {\n            cpx = startPoint[0];\n            cpy = startPoint[1];\n            startPoint = null;\n          } else {\n            cpx = 0;\n            cpy = 0;\n          }\n          p.shift();\n          points = [cpx, cpy];\n          break;\n      }\n\n      ca.push({\n        command: cmd || c,\n        points: points,\n        start: {\n          x: startX,\n          y: startY\n        }\n      });\n    }\n  }\n  return ca;\n}\n","import SVGArc from \"./SVGArc\";\nimport { parsePathData } from \"./SVGPath\";\n\nexport default class Graphics {\n  /**\n   * Build up createjs Graphics commands based on path data.\n   */\n  static init(target, svgpath: string) {\n    const ca = parsePathData(svgpath);\n    const G = createjs.Graphics;\n\n    for (let n = 0; n < ca.length; n++) {\n      const c = ca[n].command;\n      const p = ca[n].points;\n      switch (c) {\n        case \"L\":\n          target.append(new G.LineTo(p[0], p[1]));\n          break;\n\n        case \"M\":\n          target.append(new G.MoveTo(p[0], p[1]));\n          break;\n\n        case \"C\":\n          target.append(\n            new G.BezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5])\n          );\n          break;\n\n        case \"Q\":\n          target.append(new G.QuadraticCurveTo(p[0], p[1], p[2], p[3]));\n          break;\n\n        case \"A\":\n          target.append(new SVGArc(p[0], p[1], p[2], p[3], p[4], p[5], p[6]));\n          break;\n\n        case \"Z\":\n          target.append(new G.ClosePath());\n          target.append(new G.MoveTo(p[0], p[1]));\n          break;\n      }\n    }\n  }\n}\n","export default function applyMixins(derivedCtor: any, baseCtors: any[]) {\n  baseCtors.forEach(baseCtor => {\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n      Object.defineProperty(\n        derivedCtor.prototype,\n        name,\n        Object.getOwnPropertyDescriptor(baseCtor.prototype, name)\n      );\n    });\n  });\n}\n","import Graphics from \"./Graphics\";\nimport applyMixins from \"./applyMixins\";\n\nclass GraphicsMixin {\n  /**\n   * decodeSVGPath intended for createjs.Graphics class\n   */\n  decodeSVGPath(data: string) {\n    Graphics.init(this, data);\n    return this;\n  }\n}\n\napplyMixins(createjs.Graphics, [GraphicsMixin]);\n\ndeclare global {\n  namespace createjs {\n    interface Graphics {\n      decodeSVGPath(data: string): Graphics;\n    }\n  }\n}\n","export default class Accessibility {\n  static data: any = [];\n\n  static timeout: any = null;\n\n  static set(element: any) {\n    //if an element is not on canvas, do not place into accessibility api\n    if (element.stage == null) {\n      return;\n    }\n    //clear timeout if exists\n    if (Accessibility.timeout != null) {\n      clearTimeout(Accessibility.timeout);\n    }\n    // add to accessibility elements\n    if (element.accessibilityId == null) {\n      Accessibility.data.push(element);\n      element.accessibilityId = Accessibility.data.length - 1;\n    }\n    Accessibility.timeout = setTimeout(Accessibility.update, 300);\n  }\n\n  static update() {\n    Accessibility.timeout = null;\n    const data = Accessibility.data.slice(0);\n    data.sort(function(a, b) {\n      return a.accessibilityPriority - b.accessibilityPriority;\n    });\n    const len = data.length;\n    let out = \"\";\n    let currentCanvas = data[0].stage.canvas;\n    for (let i = 0; i < len; i++) {\n      if (data[i].stage == null) {\n        continue;\n      }\n      if (currentCanvas != data[i].stage.canvas) {\n        currentCanvas.innerHTML = out;\n        out = \"\";\n        currentCanvas = data[i].stage.canvas;\n      }\n      if (data[i].accessibilityText == null) {\n        out += \"<p>\" + data[i].text + \"</p>\";\n      } else {\n        out += data[i].accessibilityText;\n      }\n    }\n    currentCanvas.innerHTML = out;\n  }\n\n  static clear() {\n    Accessibility.data = [];\n  }\n}\n","enum Align {\n  TOP_LEFT = 0,\n  TOP_CENTER = 1,\n  TOP_RIGHT = 2,\n  MIDDLE_LEFT = 3,\n  MIDDLE_CENTER = 4,\n  MIDDLE_RIGHT = 5,\n  BOTTOM_LEFT = 6,\n  BOTTOM_CENTER = 7,\n  BOTTOM_RIGHT = 8,\n  TL = 0,\n  TC = 1,\n  TR = 2,\n  ML = 3,\n  MC = 4,\n  MR = 5,\n  BL = 6,\n  BC = 7,\n  BR = 8\n}\n\nexport default Align;\n","enum Case {\n  NORMAL = 0,\n  UPPER = 1,\n  LOWER = 2,\n  SMALL_CAPS = 3\n}\n\nexport default Case;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export default class Font {\n  glyphs: any = {};\n  kerning: any = {};\n  missing: number;\n  offset: number;\n  default: number;\n  descent: number;\n  ascent: number;\n  top = 0;\n  middle = 0;\n  bottom = 0;\n  units = 1000;\n  id: string;\n  ligatures: any = {};\n  panose: string;\n  alphabetic: string;\n  loaded = false;\n  targets: number[] = [];\n  loader: XMLHttpRequest;\n\n  cloneGlyph(target: number, from: number) {\n    if (this.glyphs[target] == undefined && this.glyphs[from] != undefined) {\n      this.glyphs[target] = this.glyphs[from];\n      this.kerning[target] = this.kerning[from];\n    }\n  }\n}\n","/**\n * Represents a single Glyph within a Font.\n */\n\nexport default class Glyph {\n  /** SVG path data */\n  path = \"\";\n  offset: number;\n  kerning: any = {};\n  private _graphic: createjs.Graphics = null;\n  _fill: createjs.Graphics.Fill;\n  _stroke: createjs.Graphics.Stroke;\n  _strokeStyle: createjs.Graphics.StrokeStyle;\n\n  graphic() {\n    if (this._graphic == null) {\n      this._graphic = new createjs.Graphics();\n\n      //append fill/stroke/stokeStyle\n      //Character instances populate properties before draw\n      this._stroke = new createjs.Graphics.Stroke(null, true);\n\n      this._strokeStyle = new createjs.Graphics.StrokeStyle(\n        0,\n        null,\n        null,\n        null\n      );\n\n      this._fill = new createjs.Graphics.Fill(null);\n\n      //convert SVG to drawing paths\n      this._graphic.decodeSVGPath(this.path);\n\n      this._graphic.append(this._fill);\n      this._graphic.append(this._strokeStyle);\n      this._graphic.append(this._stroke);\n    }\n    return this._graphic;\n  }\n\n  draw(ctx: CanvasRenderingContext2D): boolean {\n    this._graphic.draw(ctx);\n    return true;\n  }\n\n  getKerning(characterCode: number, size: number) {\n    const out = -(this.kerning[characterCode] * size);\n    if (isNaN(out)) {\n      return 0;\n    }\n    if (isNaN(characterCode)) {\n      return 0;\n    }\n    if (isNaN(size)) {\n      return 0;\n    }\n    if (this.kerning[characterCode] != undefined) {\n      return out;\n    }\n    return 0;\n  }\n}\n","import Font from \"./Font\";\nimport Glyph from \"./Glyph\";\n\n/**\n * Fetches font files via AJAX request, and\n * parses the font into glyphs, and stores it.\n * Local storage is optionally used for caching.\n *\n * Font files store font data, grouped by categories:\n *\n *  * `0` = Font properties: `0|property name|property value`\n *  * `1` = Glyph SVG shape data: `1|?|?|SVGPath data`\n *  * `2` = Kerning spacing: `2|?|?|?`\n *  * `3` = Ligatures: `3`\n *\n * Each line in a category of data is delineated with pipe characters \"|\".\n *\n * Partial example:\n *\n * ```\n * 0|id|Abel-Regular\n * 0|family|Abel\n * 1|33|428|M250 434h-72l-55 1000h182zM137 0v154h154v-154h-154z\n * 1|34|645|M225 993h-51l-51 441h153zM471 993h-51l-51 441h153z\n * 2|34|197|123\n * 2|47|100|102\n * 3\n * ```\n *\n * @todo This class should be split into FontLoader (AJAX fetch), FontParser (deserialisation), and probably a FontStorage class.\n */\nexport default class FontLoader {\n  /**\n   * Server path to load font files from.\n   */\n  static path = \"/font/\";\n\n  static cache = false;\n\n  static version = 0;\n\n  static fonts: any = {};\n\n  static loaders: any = [];\n\n  static isLoaded(name: string): boolean {\n    if (FontLoader.fonts.hasOwnProperty(name)) {\n      return FontLoader.fonts[name].loaded;\n    }\n    return false;\n  }\n\n  static getFont(name: string): Font {\n    if (FontLoader.fonts.hasOwnProperty(name)) {\n      return FontLoader.fonts[name];\n    }\n    return null;\n  }\n\n  static load(target: any, fonts: string[]) {\n    //no loaderId implies no loading for this txt field\n    let loader: any;\n    if (target.loaderId == null) {\n      loader = {};\n      target.loaderId = FontLoader.loaders.push(loader) - 1;\n      loader._id = target.loaderId;\n      loader._target = target;\n    } else {\n      loader = FontLoader.loaders[target.loaderId];\n    }\n    const fontCount = fonts.length;\n    for (let i = 0; i < fontCount; ++i) {\n      //mark loader for font loading\n      loader[fonts[i]] = false;\n    }\n    for (const prop in loader) {\n      if (prop.charAt(0) != \"_\") {\n        FontLoader.loadFont(prop, loader);\n      }\n    }\n  }\n\n  static check(id: number) {\n    const loader = FontLoader.loaders[id];\n    //determine if all fonts are loaded\n    for (const prop in loader) {\n      if (prop.charAt(0) != \"_\") {\n        loader[prop] = FontLoader.isLoaded(prop);\n        if (loader[prop] == false) return;\n      }\n    }\n    window.setTimeout(function() {\n      loader._target.fontLoaded();\n    }, 1);\n  }\n\n  static loadFont(fontName: string, loader: any) {\n    //determine if font exists in memory\n    if (FontLoader.fonts.hasOwnProperty(fontName)) {\n      //loading complete\n      if (FontLoader.fonts[fontName].loaded === true) {\n        FontLoader.check(loader._id);\n\n        //loading not complete\n      } else {\n        //add loader id to font\n        FontLoader.fonts[fontName].targets.push(loader._id);\n      }\n      //load from scratch\n    } else {\n      const font: Font = (FontLoader.fonts[fontName] = new Font());\n      font.targets.push(loader._id);\n\n      //TODO localstorage check & get\n      const req: any = new XMLHttpRequest();\n\n      if (localStorage && FontLoader.cache) {\n        const local = JSON.parse(\n          localStorage.getItem(\"txt_font_\" + fontName.split(\" \").join(\"_\"))\n        );\n        if (local != null) {\n          if (local.version === FontLoader.version) {\n            req.cacheResponseText = local.font;\n            req.cacheFont = true;\n          }\n        }\n      }\n\n      req.onload = function() {\n        //localstorage set\n        if (localStorage && FontLoader.cache && this.cacheFont == undefined) {\n          localStorage.setItem(\n            \"txt_font_\" + fontName.split(\" \").join(\"_\"),\n            JSON.stringify({\n              font: this.responseText,\n              version: FontLoader.version\n            })\n          );\n        }\n\n        let lines = this.responseText.split(\"\\n\");\n        //use cacheResponseText as responseText is readonly via XHR\n        if (this.cacheResponseText) {\n          lines = this.cacheResponseText.split(\"\\n\");\n        }\n        const len = lines.length;\n        let i = 0;\n        let line: string[];\n        let glyph: Glyph;\n        let lineLen;\n        while (i < len) {\n          line = lines[i].split(\"|\");\n          switch (line[0]) {\n            case \"0\":\n              //properties\n              if (\n                line[1] == \"id\" ||\n                line[1] == \"panose\" ||\n                line[1] == \"family\" ||\n                line[1] == \"font-style\" ||\n                line[1] == \"font-stretch\"\n              ) {\n                font[line[1]] = line[2];\n              } else {\n                font[line[1]] = parseInt(line[2]);\n              }\n              break;\n\n            case \"1\":\n              //glyphs\n\n              glyph = new Glyph();\n              glyph.offset = parseInt(line[2]) / font.units;\n              glyph.path = line[3];\n              font.glyphs[line[1]] = glyph;\n              break;\n\n            case \"2\":\n              //kerning\n              if (font.kerning[line[1]] == undefined) {\n                font.kerning[line[1]] = {};\n              }\n              if (font.glyphs[line[1]] == undefined) {\n                glyph = new Glyph();\n                glyph.offset = font.default / font.units;\n                glyph.path = \"\";\n                font.glyphs[line[1]] = glyph;\n              }\n              font.glyphs[line[1]].kerning[line[2]] =\n                parseInt(line[3]) / font.units;\n              font.kerning[line[1]][line[2]] = parseInt(line[3]) / font.units;\n              break;\n\n            case \"3\":\n              line.shift();\n              lineLen = line.length;\n              for (let j = 0; j < lineLen; j++) {\n                const path = line[j].split(\"\");\n                const pathLength = path.length;\n                let target = font.ligatures;\n                for (let k = 0; k < pathLength; k++) {\n                  if (target[path[k]] == undefined) {\n                    target[path[k]] = {};\n                  }\n                  if (k == pathLength - 1) {\n                    target[path[k]].glyph = font.glyphs[line[j]];\n                  }\n\n                  target = target[path[k]];\n                }\n                //font.ligatures[ line[ j ] ] = font.glyphs[ line[j] ]\n              }\n              break;\n          }\n          i++;\n        }\n        //character cloning\n        //clone bullet into multiple areas\n        font.cloneGlyph(183, 8226);\n        font.cloneGlyph(8729, 8226);\n        font.cloneGlyph(12539, 8226);\n        font.cloneGlyph(9702, 8226);\n        font.cloneGlyph(9679, 8226);\n        font.cloneGlyph(9675, 8226);\n\n        //define font adjustment values for font.top, font.middle, font.bottom\n        if (font.top == undefined) {\n          font.top = 0;\n        }\n        if (font.middle == undefined) {\n          font.middle = 0;\n        }\n        if (font.bottom == undefined) {\n          font.bottom = 0;\n        }\n\n        //level the font metadata\n        const lLen = font.targets.length;\n        font.loaded = true;\n        for (let l = 0; l < lLen; ++l) {\n          FontLoader.check(font.targets[l]);\n        }\n        font.targets = [];\n      };\n      //check if cached\n      if (req.cacheFont == true) {\n        req.onload();\n      } else {\n        req.open(\n          \"get\",\n          FontLoader.path + fontName.split(\" \").join(\"_\") + \".txt\",\n          true\n        );\n        req.send();\n      }\n    }\n  }\n}\n","import Case from \"./Case\";\nimport Glyph from \"./Glyph\";\nimport FontLoader from \"./FontLoader\";\nimport Font from \"./Font\";\n\n/**\n * Represents a styled character\n */\nexport default class Character extends createjs.Shape {\n  character = \"\";\n  characterCode: number = null;\n  font: string = null;\n  tracking: number = null;\n  characterCase: Case = null;\n  characterCaseOffset = 0;\n  index: number = null;\n  size: number = null;\n  fillColor: string = null;\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  measuredWidth: number = null;\n  measuredHeight: number = null;\n  hPosition: number = null;\n  missing = false;\n\n  _glyph: Glyph;\n  _font: Font;\n\n  constructor(character: string, style: {}, index: number = null) {\n    super();\n    this.set(style);\n    this.index = index;\n\n    let upperSmall;\n\n    // flip case depending on characterCase property\n    if (this.characterCase == Case.NORMAL) {\n      this.character = character;\n    } else if (this.characterCase == Case.UPPER) {\n      this.character = character.toUpperCase();\n    } else if (this.characterCase == Case.LOWER) {\n      this.character = character.toLowerCase();\n    } else if (this.characterCase == Case.SMALL_CAPS) {\n      this.character = character.toUpperCase();\n      upperSmall = !(character === this.character);\n    } else {\n      //fallback case for unknown.\n      this.character = character;\n    }\n    this.characterCode = this.character.charCodeAt(0);\n\n    this._font = FontLoader.getFont(this.font);\n\n    if (this._font.glyphs[this.characterCode]) {\n      this._glyph = this._font.glyphs[this.characterCode];\n\n      //flip lower\n    } else if (\n      this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toLowerCase()\n          .charCodeAt(0)\n      ]\n    ) {\n      this._glyph = this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toLowerCase()\n          .charCodeAt(0)\n      ];\n\n      //flip upper\n    } else if (\n      this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toUpperCase()\n          .charCodeAt(0)\n      ]\n    ) {\n      this._glyph = this._font.glyphs[\n        String.fromCharCode(this.characterCode)\n          .toUpperCase()\n          .charCodeAt(0)\n      ];\n    }\n\n    //missing glyph\n    if (this._glyph === undefined) {\n      console.log(\"MISSING GLYPH:\" + this.character);\n      this._glyph = this._font.glyphs[42];\n      this.missing = true;\n    }\n    this.graphics = this._glyph.graphic();\n\n    // scale x\n    if (this.characterCase === Case.SMALL_CAPS) {\n      if (upperSmall) {\n        this.scaleX = (this.size / this._font.units) * 0.8;\n        this.characterCaseOffset = -0.2 * (this._glyph.offset * this.size);\n      } else {\n        this.scaleX = this.size / this._font.units;\n      }\n    } else {\n      this.scaleX = this.size / this._font.units;\n    }\n\n    this.scaleY = -this.scaleX;\n\n    this.measuredHeight =\n      (this._font.ascent - this._font.descent) * this.scaleX;\n    this.measuredWidth = this.scaleX * this._glyph.offset * this._font.units;\n\n    const ha = new createjs.Shape();\n    ha.graphics\n      .beginFill(\"#000\")\n      .drawRect(\n        0,\n        this._font.descent,\n        this._glyph.offset * this._font.units,\n        this._font.ascent - this._font.descent\n      );\n    this.hitArea = ha;\n  }\n\n  setGlyph(glyph: Glyph) {\n    this._glyph = glyph;\n    this.graphics = this._glyph.graphic();\n  }\n\n  trackingOffset(): number {\n    return this.size * (2.5 / this._font.units + 1 / 900 + this.tracking / 990);\n  }\n\n  draw(ctx: CanvasRenderingContext2D): boolean {\n    this._glyph._fill.style = this.fillColor;\n    this._glyph._fill.matrix = null;\n    this._glyph._stroke.style = this.strokeColor;\n    this._glyph._strokeStyle.width = this.strokeWidth;\n    return this._glyph.draw(ctx);\n  }\n\n  getWidth() {\n    return this.size * this._glyph.offset;\n  }\n}\n","import FontLoader from \"./FontLoader\";\nimport Case from \"./Case\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Accessibility from \"./Accessibility\";\nimport Character from \"./Character\";\n\n/**\n * Common aspects of top-level Text classes\n */\nexport default abstract class TextContainer extends createjs.Container {\n  text = \"\";\n  original: ConstructObj = null;\n  style: Style[] = null;\n  font = \"belinda\";\n  characterCase: Case = Case.NORMAL;\n\n  //accessibility\n  accessibilityText: string = null;\n  accessibilityPriority = 2;\n  accessibilityId: number = null;\n\n  protected loadFonts() {\n    const fonts = [this.font].concat(this.fontsFromCharacterStyles(this.style));\n    FontLoader.load(this, fonts);\n  }\n\n  //called when text is rendered\n  complete() {\n    //placeholder\n  }\n\n  //called when font has loaded\n  fontLoaded() {\n    this.layout();\n  }\n\n  //call stage.update to render canvas\n  //overload to support deferred rendering\n  render() {\n    this.stage.update();\n  }\n\n  abstract layout();\n\n  addAccessibility() {\n    Accessibility.set(this);\n  }\n\n  private fontsFromCharacterStyles(styles) {\n    const styleFonts = [];\n    if (styles) {\n      for (let i = 0; i < styles.length; ++i) {\n        if (styles[i] != undefined && styles[i].font != undefined) {\n          styleFonts.push(styles[i].font);\n        }\n      }\n    }\n    return styleFonts;\n  }\n\n  getCharCodeAt(index: number): number {\n    if (this.characterCase == Case.NORMAL) {\n      return this.text.charAt(index).charCodeAt(0);\n    } else if (this.characterCase == Case.UPPER) {\n      return this.text\n        .charAt(index)\n        .toUpperCase()\n        .charCodeAt(0);\n    } else if (this.characterCase == Case.LOWER) {\n      return this.text\n        .charAt(index)\n        .toLowerCase()\n        .charCodeAt(0);\n    } else if (this.characterCase == Case.SMALL_CAPS) {\n      return this.text\n        .charAt(index)\n        .toUpperCase()\n        .charCodeAt(0);\n    } else {\n      //fallback case for unknown.\n      return this.text.charAt(index).charCodeAt(0);\n    }\n  }\n\n  // TODO: this code needs unit tests before it gets changed any further\n  /**\n   * Figure out how many characters a ligature covers,\n   * and swap character glyph\n   * @param char\n   * @param ligTarget\n   */\n  protected ligatureSwap(char: Character, ligTarget: string) {\n    let advanceBy = 0;\n    const firstChar = ligTarget.charAt(0);\n    const firstLigature = char._font.ligatures[firstChar];\n    //1 char match\n    if (firstLigature) {\n      //2 char match\n      if (firstLigature[ligTarget.charAt(1)]) {\n        //3 char match\n        if (firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)]) {\n          //4 char match\n          if (\n            firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)][\n              ligTarget.charAt(3)\n            ]\n          ) {\n            //swap 4 char ligature\n            char.setGlyph(\n              firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)][\n                ligTarget.charAt(3)\n              ].glyph\n            );\n            advanceBy = 3;\n          } else {\n            //swap 3 char ligature\n            char.setGlyph(\n              firstLigature[ligTarget.charAt(1)][ligTarget.charAt(2)].glyph\n            );\n            advanceBy = 2;\n          }\n        } else {\n          //swap 2 char ligature\n          char.setGlyph(firstLigature[ligTarget.charAt(1)].glyph);\n          advanceBy = 1;\n        }\n      }\n    }\n    return advanceBy;\n  }\n}\n","import Word from \"./Word\";\nimport Character from \"./Character\";\n\nexport default class Line extends createjs.Container {\n  measuredWidth: number;\n  measuredHeight: number;\n\n  constructor() {\n    super();\n  }\n\n  //Text support\n  lastWord(): Word {\n    return this.children[this.children.length - 1] as Word;\n  }\n\n  //CharacterText support\n  lastCharacter(): Character {\n    return this.children[this.children.length - 1] as Character;\n  }\n}\n","import { ShapeEvents } from \"../Interfaces\";\n\nexport const EventNames = [\n  \"click\",\n  \"dblclick\",\n  \"mousedown\",\n  \"mouseout\",\n  \"mouseover\",\n  \"pressmove\",\n  \"pressup\",\n  \"rollout\",\n  \"rollover\",\n  \"added\",\n  \"removed\",\n  \"tick\"\n];\n\n/**\n *\n * @param source\n * @param shape\n *\n * @todo: simplify with a loop\n */\nexport default function(\n  original: ShapeEvents,\n  shape: createjs.EventDispatcher\n) {\n  EventNames.forEach(eventName => {\n    if (original[eventName]) {\n      shape.on(eventName, original[eventName]);\n    }\n  });\n}\n","import TextContainer from \"./TextContainer\";\nimport Align from \"./Align\";\nimport FontLoader from \"./FontLoader\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Font from \"./Font\";\nimport Character from \"./Character\";\nimport Line from \"./Line\";\nimport applyShapeEventListeners from \"./utils/apply-shape-event-listeners\";\n\nconst SPACE_CHAR_CODE = 32;\n\nexport default class CharacterText extends TextContainer {\n  lineHeight: number = null;\n  width = 100;\n  height = 20;\n  align: number = Align.TOP_LEFT;\n  size = 12;\n  minSize: number = null;\n  maxTracking: number = null;\n  tracking = 0;\n  ligatures = false;\n  fillColor = \"#000\";\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  singleLine = false;\n  autoExpand = false;\n  autoReduce = false;\n  overset = false;\n  oversetIndex: number = null;\n  loaderId: number = null;\n  debug = false;\n  lines: Line[] = [];\n  block: createjs.Container;\n  missingGlyphs: any[] = null;\n  renderCycle = true;\n  measured = false;\n  oversetPotential = false;\n\n  constructor(props: ConstructObj = null) {\n    super();\n\n    if (props) {\n      this.original = props;\n      this.set(props);\n      this.original.tracking = this.tracking;\n    }\n    this.loadFonts();\n  }\n\n  //layout text\n  layout() {\n    this.addAccessibility();\n\n    this.overset = false;\n    this.measured = false;\n    this.oversetPotential = false;\n\n    if (this.original.size) {\n      this.size = this.original.size;\n    }\n    if (this.original.tracking) {\n      this.tracking = this.original.tracking;\n    }\n    this.text = this.text.replace(/([\\n][ \\t]+)/g, \"\\n\");\n\n    if (this.singleLine === true) {\n      this.text = this.text.split(\"\\n\").join(\"\");\n      this.text = this.text.split(\"\\r\").join(\"\");\n    }\n\n    this.lines = [];\n    this.missingGlyphs = null;\n    this.removeAllChildren();\n\n    if (this.text === \"\" || this.text === undefined) {\n      this.render();\n      this.complete();\n      return;\n    }\n\n    this.block = new createjs.Container();\n    this.addChild(this.block);\n\n    if (this.debug == true) {\n      this.addDebugLayout();\n    }\n    if (\n      this.singleLine === true &&\n      (this.autoExpand === true || this.autoReduce === true)\n    ) {\n      this.measure();\n    }\n\n    if (this.renderCycle === false) {\n      this.removeAllChildren();\n      this.complete();\n      return;\n    }\n\n    if (this.characterLayout() === false) {\n      this.removeAllChildren();\n      return;\n    }\n    this.lineLayout();\n    this.render();\n    this.complete();\n  }\n\n  /**\n   * Draw baseline, ascent, ascender, and descender lines\n   */\n  private addDebugLayout() {\n    const font: Font = FontLoader.getFont(this.font);\n    //outline\n    let s = new createjs.Shape();\n    s.graphics.beginStroke(\"#FF0000\");\n    s.graphics.setStrokeStyle(1.2);\n    s.graphics.drawRect(0, 0, this.width, this.height);\n    this.addChild(s);\n    //baseline\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#000\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = 0;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#F00\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font[\"cap-height\"] / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#0F0\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.ascent / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#00F\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.descent / font.units) * this.size;\n    this.block.addChild(s);\n  }\n\n  measure(): boolean {\n    this.measured = true;\n    //Extract origin sizing from this.original to preserve\n    //metrics. autoMeasure will change style properties\n    //directly. Change this.original to re-render.\n\n    let len = this.text.length;\n    const defaultStyle = {\n      size: this.original.size,\n      font: this.original.font,\n      tracking: this.original.tracking,\n      characterCase: this.original.characterCase\n    };\n    let currentStyle: any;\n    let charCode: number = null;\n    let font: Font;\n    const charMetrics = [];\n    let largestFontSize = defaultStyle.size;\n    for (let i = 0; i < len; i++) {\n      charCode = this.text.charCodeAt(i);\n\n      currentStyle = defaultStyle;\n      if (\n        this.original.style !== undefined &&\n        this.original.style[i] !== undefined\n      ) {\n        currentStyle = this.original.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n      }\n      if (currentStyle.size > largestFontSize) {\n        largestFontSize = currentStyle.size;\n      }\n      font = FontLoader.fonts[currentStyle.font];\n\n      charMetrics.push({\n        char: this.text[i],\n        size: currentStyle.size,\n        charCode: charCode,\n        font: currentStyle.font,\n        offset: font.glyphs[charCode].offset,\n        units: font.units,\n        tracking: this.trackingOffset(\n          currentStyle.tracking,\n          currentStyle.size,\n          font.units\n        ),\n        kerning: font.glyphs[charCode].getKerning(this.getCharCodeAt(i + 1), 1)\n      });\n    }\n\n    //save space char using last known width/height\n    const space: any = {\n      char: \" \",\n      size: currentStyle.size,\n      charCode: 32,\n      font: currentStyle.font,\n      offset: font.glyphs[32].offset,\n      units: font.units,\n      tracking: 0,\n      kerning: 0\n    };\n\n    charMetrics[charMetrics.length - 1].tracking = 0;\n    //charMetrics[ charMetrics.length-1 ].kerning=0;\n\n    len = charMetrics.length;\n\n    //measured without size\n    let metricBaseWidth = 0;\n    //measured at size\n    let metricRealWidth = 0;\n    //measured at size with tracking\n    let metricRealWidthTracking = 0;\n\n    let current = null;\n    for (let i = 0; i < len; i++) {\n      current = charMetrics[i];\n      metricBaseWidth = metricBaseWidth + current.offset + current.kerning;\n      metricRealWidth =\n        metricRealWidth + (current.offset + current.kerning) * current.size;\n      metricRealWidthTracking =\n        metricRealWidthTracking +\n        (current.offset + current.kerning + current.tracking) * current.size;\n    }\n\n    //size cases\n    if (metricRealWidth > this.width) {\n      if (this.autoReduce === true) {\n        this.tracking = 0;\n        this.size =\n          (this.original.size * this.width) /\n          (metricRealWidth + space.offset * space.size);\n        if (this.minSize != null && this.size < this.minSize) {\n          this.size = this.minSize;\n          this.oversetPotential = true;\n        }\n        return true;\n      }\n      //tracking cases\n    } else {\n      let trackMetric = this.offsetTracking(\n        (this.width - metricRealWidth) / len,\n        current.size,\n        current.units\n      );\n      if (trackMetric < 0) {\n        trackMetric = 0;\n      }\n      //auto expand case\n      if (trackMetric > this.original.tracking && this.autoExpand) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n      //auto reduce tracking case\n      if (trackMetric < this.original.tracking && this.autoReduce) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n    }\n    return true;\n  }\n\n  trackingOffset(tracking: number, size: number, units: number): number {\n    return size * (2.5 / units + 1 / 900 + tracking / 990);\n  }\n\n  offsetTracking(offset: number, size: number, units: number): number {\n    return Math.floor(((offset - 2.5 / units - 1 / 900) * 990) / size);\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  /**\n   * Place characters in lines\n   * adds Characters to lines. LineHeight IS a factor given lack of Words.\n   */\n  characterLayout(): boolean {\n    //char layout\n    const len = this.text.length;\n    let char: Character;\n    const defaultStyle: Style = {\n      size: this.size,\n      font: this.font,\n      tracking: this.tracking,\n      characterCase: this.characterCase,\n      fillColor: this.fillColor,\n      strokeColor: this.strokeColor,\n      strokeWidth: this.strokeWidth\n    };\n    let currentStyle = defaultStyle;\n    let hPosition = 0;\n    let vPosition = 0;\n    let lineY = 0;\n    let firstLine = true;\n\n    let currentLine: Line = new Line();\n\n    this.lines.push(currentLine);\n    this.block.addChild(currentLine);\n\n    // loop over characters\n    // place into lines\n    for (let i = 0; i < len; i++) {\n      if (this.style !== null && this.style[i] !== undefined) {\n        currentStyle = this.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n        if (currentStyle.characterCase === undefined)\n          currentStyle.characterCase = defaultStyle.characterCase;\n        if (currentStyle.fillColor === undefined)\n          currentStyle.fillColor = defaultStyle.fillColor;\n        if (currentStyle.strokeColor === undefined)\n          currentStyle.strokeColor = defaultStyle.strokeColor;\n        if (currentStyle.strokeWidth === undefined)\n          currentStyle.strokeWidth = defaultStyle.strokeWidth;\n      }\n\n      // newline\n      // mark word as having newline\n      // create new word\n      // new line has no character\n      if (this.text.charAt(i) == \"\\n\" || this.text.charAt(i) == \"\\r\") {\n        //only if not last char\n        if (i < len - 1) {\n          if (firstLine === true) {\n            vPosition = currentStyle.size;\n            currentLine.measuredHeight = currentStyle.size;\n            currentLine.measuredWidth = hPosition;\n            lineY = 0;\n            currentLine.y = 0;\n          } else if (this.lineHeight != undefined) {\n            vPosition = this.lineHeight;\n            currentLine.measuredHeight = vPosition;\n            currentLine.measuredWidth = hPosition;\n            lineY = lineY + vPosition;\n            currentLine.y = lineY;\n          } else {\n            vPosition = char.measuredHeight;\n            currentLine.measuredHeight = vPosition;\n            currentLine.measuredWidth = hPosition;\n            lineY = lineY + vPosition;\n            currentLine.y = lineY;\n          }\n\n          firstLine = false;\n          currentLine = new Line();\n          currentLine.measuredHeight = currentStyle.size;\n          currentLine.measuredWidth = 0;\n          this.lines.push(currentLine);\n          this.block.addChild(currentLine);\n          vPosition = 0;\n          hPosition = 0;\n        }\n\n        if (this.text.charAt(i) == \"\\r\" && this.text.charAt(i + 1) == \"\\n\") {\n          i++;\n        }\n\n        continue;\n      }\n\n      //runtime test for font\n      if (FontLoader.isLoaded(currentStyle.font) === false) {\n        FontLoader.load(this, [currentStyle.font]);\n        return false;\n      }\n\n      // create character\n      char = new Character(this.text.charAt(i), currentStyle, i);\n\n      if (this.original.character) {\n        applyShapeEventListeners(this.original.character, char);\n      }\n\n      if (char.missing) {\n        if (this.missingGlyphs == null) {\n          this.missingGlyphs = [];\n        }\n        this.missingGlyphs.push({\n          position: i,\n          character: this.text.charAt(i),\n          font: currentStyle.font\n        });\n      }\n\n      if (firstLine === true) {\n        if (vPosition < char.size) {\n          vPosition = char.size;\n        }\n      } else if (this.lineHeight != undefined && this.lineHeight > 0) {\n        if (vPosition < this.lineHeight) {\n          vPosition = this.lineHeight;\n        }\n      } else if (char.measuredHeight > vPosition) {\n        vPosition = char.measuredHeight;\n      }\n\n      //swap character if ligature\n      //ligatures removed if tracking or this.ligatures is false\n      if (currentStyle.tracking == 0 && this.ligatures == true) {\n        const ligTarget = this.text.substr(i, 4);\n        i = i + this.ligatureSwap(char, ligTarget);\n      }\n\n      if (this.overset == true) {\n        break;\n      }\n\n      const longerThanWidth = hPosition + char.measuredWidth > this.width;\n      if (this.singleLine === false && longerThanWidth) {\n        const lastchar: Character = currentLine.children[\n          currentLine.children.length - 1\n        ] as Character;\n\n        currentLine.measuredWidth =\n          hPosition -\n          lastchar.trackingOffset() -\n          lastchar._glyph.getKerning(this.getCharCodeAt(i), lastchar.size);\n\n        if (lastchar.characterCode == SPACE_CHAR_CODE) {\n          currentLine.measuredWidth -= lastchar.measuredWidth;\n        }\n\n        if (firstLine === true) {\n          currentLine.measuredHeight = vPosition;\n          currentLine.y = 0;\n          lineY = 0;\n        } else {\n          currentLine.measuredHeight = vPosition;\n          lineY = lineY + vPosition;\n          currentLine.y = lineY;\n        }\n        firstLine = false;\n        currentLine = new Line();\n        currentLine.addChild(char);\n\n        if (char.characterCode == SPACE_CHAR_CODE) {\n          hPosition = 0;\n        } else {\n          hPosition =\n            char.x +\n            char._glyph.offset * char.size +\n            char.characterCaseOffset +\n            char.trackingOffset();\n        }\n\n        this.lines.push(currentLine);\n        this.block.addChild(currentLine);\n        vPosition = 0;\n\n        //measured case\n      } else if (\n        this.measured == true &&\n        this.singleLine === true &&\n        longerThanWidth &&\n        this.oversetPotential == true\n      ) {\n        this.oversetIndex = i;\n        this.overset = true;\n\n        //not measured\n      } else if (\n        this.measured == false &&\n        this.singleLine === true &&\n        longerThanWidth\n      ) {\n        this.oversetIndex = i;\n        this.overset = true;\n      } else {\n        char.x = hPosition;\n        // push character into word\n        currentLine.addChild(char);\n        hPosition =\n          char.x +\n          char._glyph.offset * char.size +\n          char.characterCaseOffset +\n          char.trackingOffset() +\n          char._glyph.getKerning(this.getCharCodeAt(i + 1), char.size);\n      }\n    }\n\n    //case of empty word at end.\n    if (currentLine.children.length == 0) {\n      currentLine = this.lines[this.lines.length - 1];\n      hPosition = currentLine.measuredWidth;\n      vPosition = currentLine.measuredHeight;\n    }\n    if (firstLine === true) {\n      currentLine.measuredWidth = hPosition;\n      currentLine.measuredHeight = vPosition;\n      currentLine.y = 0;\n    } else {\n      currentLine.measuredWidth = hPosition;\n      currentLine.measuredHeight = vPosition;\n      if (vPosition == 0) {\n        if (this.lineHeight) {\n          vPosition = this.lineHeight;\n        } else {\n          vPosition = currentStyle.size;\n        }\n      }\n      currentLine.y = lineY + vPosition;\n    }\n    return true;\n  }\n\n  lineLayout() {\n    // loop over lines\n    // place into text\n    let measuredHeight = 0;\n    let line;\n    const a = Align;\n    const fnt: Font = FontLoader.getFont(this.font);\n\n    const len = this.lines.length;\n    for (let i = 0; i < len; i++) {\n      line = this.lines[i];\n\n      //correct measuredWidth if last line character contains tracking\n      if (line.lastCharacter()) {\n        line.measuredWidth -= line.lastCharacter().trackingOffset();\n      }\n\n      if (this.original.line) {\n        applyShapeEventListeners(this.original.line, line);\n      }\n\n      measuredHeight += line.measuredHeight;\n\n      if (this.align === a.TOP_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.TOP_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.MIDDLE_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.MIDDLE_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.BOTTOM_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.BOTTOM_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      }\n    }\n\n    //TOP ALIGNED\n    if (\n      this.align === a.TOP_LEFT ||\n      this.align === a.TOP_CENTER ||\n      this.align === a.TOP_RIGHT\n    ) {\n      if (fnt.top == 0) {\n        this.block.y = (this.lines[0].measuredHeight * fnt.ascent) / fnt.units;\n      } else {\n        this.block.y =\n          (this.lines[0].measuredHeight * fnt.ascent) / fnt.units +\n          (this.lines[0].measuredHeight * fnt.top) / fnt.units;\n      }\n\n      //MIDDLE ALIGNED\n    } else if (\n      this.align === a.MIDDLE_LEFT ||\n      this.align === a.MIDDLE_CENTER ||\n      this.align === a.MIDDLE_RIGHT\n    ) {\n      this.block.y =\n        this.lines[0].measuredHeight +\n        (this.height - measuredHeight) / 2 +\n        (this.lines[0].measuredHeight * fnt.middle) / fnt.units;\n\n      //BOTTOM ALIGNED\n    } else if (\n      this.align === a.BOTTOM_LEFT ||\n      this.align === a.BOTTOM_CENTER ||\n      this.align === a.BOTTOM_RIGHT\n    ) {\n      this.block.y =\n        this.height -\n        this.lines[this.lines.length - 1].y +\n        (this.lines[0].measuredHeight * fnt.bottom) / fnt.units;\n    }\n\n    if (this.original.block) {\n      applyShapeEventListeners(this.original.block, this.block);\n    }\n  }\n}\n","export default class Info {\n  static VERSION = \"0.10.0\";\n  static LICENSE = \"BSD-2-Clause\";\n}\n","import Character from \"./Character\";\n\nexport default class Word extends createjs.Container {\n  hasNewLine = false;\n  hasHyphen = false;\n  hasSpace = false;\n  measuredWidth: number;\n  measuredHeight: number;\n  spaceOffset = 0;\n\n  constructor() {\n    super();\n  }\n\n  //CharacterText support\n  lastCharacter(): Character {\n    return this.children[this.children.length - 1] as Character;\n  }\n}\n","import TextContainer from \"./TextContainer\";\nimport Align from \"./Align\";\nimport FontLoader from \"./FontLoader\";\nimport Word from \"./Word\";\nimport Line from \"./Line\";\nimport Font from \"./Font\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Character from \"./Character\";\nimport applyShapeEventListeners from \"./utils/apply-shape-event-listeners\";\n\nexport default class Text extends TextContainer {\n  lineHeight: number = null;\n  width = 100;\n  height = 20;\n  align: number = Align.TOP_LEFT;\n  size = 12;\n  tracking = 0;\n  ligatures = false;\n  fillColor = \"#000\";\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  loaderId: number = null;\n  debug = false;\n  words: Word[] = [];\n  lines: Line[] = [];\n  block: createjs.Container;\n  missingGlyphs: any[] = null;\n  renderCycle = true;\n\n  constructor(props: ConstructObj = null) {\n    super();\n    if (props) {\n      this.original = props;\n      this.set(props);\n    }\n    this.loadFonts();\n  }\n\n  getBounds(): createjs.Rectangle {\n    // TODO: obtain intersected bounds of the characters/words in here\n\n    return new createjs.Rectangle(this.x, this.y, this.width, this.height);\n  }\n\n  layout() {\n    this.addAccessibility();\n    this.text = this.text.replace(/([\\n][ \\t]+)/g, \"\\n\");\n    this.words = [];\n    this.lines = [];\n    this.missingGlyphs = null;\n    // TODO - remove composite layout\n    this.removeAllChildren();\n\n    this.block = new createjs.Container();\n    this.addChild(this.block);\n\n    if (this.debug == true) {\n      this.addDebugLayout();\n    }\n\n    if (this.text === \"\" || this.text === undefined) {\n      this.render();\n      this.complete();\n      return;\n    }\n\n    if (this.characterLayout() === false) {\n      this.removeAllChildren();\n      return;\n    }\n\n    if (this.renderCycle === false) {\n      this.removeAllChildren();\n      this.complete();\n      return;\n    }\n\n    this.wordLayout();\n    this.lineLayout();\n\n    this.render();\n    this.complete();\n  }\n\n  /**\n   * Draw baseline, ascent, ascender, and descender lines\n   */\n  private addDebugLayout() {\n    const font: Font = FontLoader.getFont(this.font);\n    //outline\n    let s = new createjs.Shape();\n    s.graphics.beginStroke(\"#FF0000\");\n    s.graphics.setStrokeStyle(1.2);\n    s.graphics.drawRect(0, 0, this.width, this.height);\n    this.addChild(s);\n    //baseline\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#000\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = 0;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#F00\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font[\"cap-height\"] / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#0F0\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.ascent / font.units) * this.size;\n    this.block.addChild(s);\n    s = new createjs.Shape();\n    s.graphics.beginFill(\"#00F\");\n    s.graphics.drawRect(0, 0, this.width, 0.2);\n    s.x = 0;\n    s.y = (-font.descent / font.units) * this.size;\n    this.block.addChild(s);\n  }\n\n  //place characters in words\n  characterLayout(): boolean {\n    //characterlayout adds Charcters to words and measures true height. LineHeight is not a factor til Line layout.\n\n    //char layout\n    const len = this.text.length;\n    let char: Character;\n    const defaultStyle: Style = {\n      size: this.size,\n      font: this.font,\n      tracking: this.tracking,\n      characterCase: this.characterCase,\n      fillColor: this.fillColor,\n      strokeColor: this.strokeColor,\n      strokeWidth: this.strokeWidth\n    };\n    let currentStyle = defaultStyle;\n    let hPosition = 0;\n    let vPosition = 0;\n\n    let currentWord: Word = new Word();\n    // push a new word to capture characters\n    this.words.push(currentWord);\n\n    // loop over characters\n    // place into words\n    for (let i = 0; i < len; i++) {\n      if (this.style !== null && this.style[i] !== undefined) {\n        currentStyle = this.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n        if (currentStyle.characterCase === undefined)\n          currentStyle.characterCase = defaultStyle.characterCase;\n        if (currentStyle.fillColor === undefined)\n          currentStyle.fillColor = defaultStyle.fillColor;\n        if (currentStyle.strokeColor === undefined)\n          currentStyle.strokeColor = defaultStyle.strokeColor;\n        if (currentStyle.strokeWidth === undefined)\n          currentStyle.strokeWidth = defaultStyle.strokeWidth;\n      }\n\n      // newline\n      // mark word as having newline\n      // create new word\n      // new line has no character\n      if (this.text.charAt(i) == \"\\n\") {\n        //only if not last char\n        if (i < len - 1) {\n          currentWord.measuredWidth = hPosition;\n          currentWord.measuredHeight = vPosition;\n          if (currentWord.measuredHeight == 0) {\n            currentWord.measuredHeight = currentStyle.size;\n          }\n          currentWord.hasNewLine = true;\n          currentWord = new Word();\n          this.words.push(currentWord);\n          vPosition = 0;\n          hPosition = 0;\n        }\n\n        continue;\n      }\n\n      //runtime test for font\n      if (FontLoader.isLoaded(currentStyle.font) === false) {\n        FontLoader.load(this, [currentStyle.font]);\n        return false;\n      }\n\n      // create character\n      char = new Character(this.text.charAt(i), currentStyle, i);\n\n      if (this.original.character) {\n        applyShapeEventListeners(this.original.character, char);\n      }\n\n      if (char.missing) {\n        if (this.missingGlyphs == null) {\n          this.missingGlyphs = [];\n        }\n        this.missingGlyphs.push({\n          position: i,\n          character: this.text.charAt(i),\n          font: currentStyle.font\n        });\n      }\n\n      if (char.measuredHeight > vPosition) {\n        vPosition = char.measuredHeight;\n      }\n\n      //swap character if ligature\n      //ligatures removed if tracking or this.ligatures is false\n      if (currentStyle.tracking == 0 && this.ligatures == true) {\n        const ligTarget = this.text.substr(i, 4);\n        i = i + this.ligatureSwap(char, ligTarget);\n      }\n\n      char.x = hPosition;\n\n      // push character into word\n      currentWord.addChild(char);\n\n      // space\n      // mark word as having space\n      // create new word\n      // space character\n      if (this.text.charAt(i) == \" \") {\n        currentWord.hasSpace = true;\n        currentWord.spaceOffset = char._glyph.offset * char.size;\n        hPosition =\n          char.x +\n          char._glyph.offset * char.size +\n          char.characterCaseOffset +\n          char.trackingOffset() +\n          char._glyph.getKerning(this.text.charCodeAt(i + 1), char.size);\n        currentWord.measuredWidth = hPosition;\n        currentWord.measuredHeight = vPosition;\n        hPosition = 0;\n        vPosition = 0;\n        currentWord = new Word();\n        this.words.push(currentWord);\n        continue;\n      }\n\n      // hyphen\n      // mark word as having hyphen\n      // create new word\n      // space character\n      if (this.text.charAt(i) == \"-\") {\n        currentWord.hasHyphen = true;\n      }\n\n      hPosition =\n        char.x +\n        char._glyph.offset * char.size +\n        char.characterCaseOffset +\n        char.trackingOffset() +\n        char._glyph.getKerning(this.text.charCodeAt(i + 1), char.size);\n    }\n    //case of empty word at end.\n    if (currentWord.children.length == 0) {\n      currentWord = this.words[this.words.length - 1];\n      hPosition = currentWord.measuredWidth;\n      vPosition = currentWord.measuredHeight;\n    }\n    currentWord.measuredWidth = hPosition;\n    currentWord.measuredHeight = vPosition;\n\n    return true;\n  }\n\n  //place words in lines\n  wordLayout() {\n    // loop over words\n    // place into lines\n    const len = this.words.length;\n    let currentLine = new Line();\n    this.lines.push(currentLine);\n\n    currentLine.y = 0;\n\n    let currentWord: Word;\n    let lastHeight: number;\n\n    this.block.addChild(currentLine);\n    let hPosition = 0;\n    let vPosition = 0;\n    let firstLine = true;\n\n    let lastLineWord: Word;\n\n    for (let i = 0; i < len; i++) {\n      currentWord = this.words[i];\n      currentWord.x = hPosition;\n\n      if (this.original.word) {\n        applyShapeEventListeners(this.original.word, currentWord);\n      }\n\n      if (firstLine) {\n        vPosition = currentWord.measuredHeight;\n      } else if (this.lineHeight != null) {\n        vPosition = this.lineHeight;\n      } else if (currentWord.measuredHeight > vPosition) {\n        vPosition = currentWord.measuredHeight;\n      }\n\n      //exceeds line width && has new line\n      if (\n        hPosition + currentWord.measuredWidth > this.width &&\n        currentWord.hasNewLine == true &&\n        currentLine.children.length > 0\n      ) {\n        if (this.lineHeight != null) {\n          lastHeight = currentLine.y + this.lineHeight;\n        } else {\n          lastHeight = currentLine.y + vPosition;\n        }\n\n        currentLine.measuredWidth = hPosition;\n        lastLineWord = this.words[i - 1];\n\n        if (lastLineWord != undefined && lastLineWord.hasSpace) {\n          currentLine.measuredWidth -= lastLineWord.spaceOffset;\n        }\n        if (firstLine == false && this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = vPosition;\n        }\n\n        firstLine = false;\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        currentLine.y = lastHeight;\n        hPosition = 0;\n        currentWord.x = 0;\n        this.block.addChild(currentLine);\n        //add word\n        const swapWord = this.words[i];\n        currentLine.addChild(swapWord);\n        if (this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = swapWord.measuredHeight;\n        }\n        currentLine.measuredWidth = swapWord.measuredWidth;\n\n        //add new line\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        if (this.lineHeight != null) {\n          currentLine.y = lastHeight + this.lineHeight;\n        } else {\n          currentLine.y = lastHeight + vPosition;\n        }\n        this.block.addChild(currentLine);\n        if (i < len - 1) {\n          vPosition = 0;\n        }\n\n        continue;\n      }\n\n      //wrap word to new line if length\n      else if (\n        hPosition + currentWord.measuredWidth > this.width &&\n        i > 0 &&\n        currentLine.children.length > 0\n      ) {\n        if (this.lineHeight != null) {\n          lastHeight = currentLine.y + this.lineHeight;\n        } else {\n          lastHeight = currentLine.y + vPosition;\n        }\n        currentLine.measuredWidth = hPosition;\n        lastLineWord = this.words[i - 1];\n        if (lastLineWord != undefined && lastLineWord.hasSpace) {\n          currentLine.measuredWidth -= lastLineWord.spaceOffset;\n        }\n        if (firstLine == false && this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = vPosition;\n        }\n\n        firstLine = false;\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        currentLine.y = lastHeight;\n        if (i < len - 1) {\n          vPosition = 0;\n        }\n        hPosition = 0;\n        currentWord.x = hPosition;\n        this.block.addChild(currentLine);\n      }\n\n      //wrap word to new line if newline\n      else if (currentWord.hasNewLine == true) {\n        if (this.lineHeight != null) {\n          lastHeight = currentLine.y + this.lineHeight;\n        } else {\n          lastHeight = currentLine.y + vPosition;\n        }\n        currentLine.measuredWidth = hPosition + currentWord.measuredWidth;\n        if (firstLine == false && this.lineHeight != null) {\n          currentLine.measuredHeight = this.lineHeight;\n        } else {\n          currentLine.measuredHeight = vPosition;\n        }\n        currentLine.addChild(this.words[i]);\n\n        firstLine = false;\n        currentLine = new Line();\n        this.lines.push(currentLine);\n        currentLine.y = lastHeight;\n        if (i < len - 1) {\n          vPosition = 0;\n        }\n        hPosition = 0;\n\n        this.block.addChild(currentLine);\n\n        continue;\n      }\n\n      hPosition = hPosition + currentWord.measuredWidth;\n      currentLine.addChild(this.words[i]);\n    }\n\n    //case of empty word at end.\n    if (currentLine.children.length == 0) {\n      currentLine = this.lines[this.lines.length - 1];\n    }\n\n    currentLine.measuredWidth = hPosition;\n    currentLine.measuredHeight = vPosition;\n  }\n\n  lineLayout() {\n    // loop over lines\n    // place into text\n    let measuredHeight = 0;\n    let line;\n    const a = Align;\n    const fnt: Font = FontLoader.getFont(this.font);\n\n    const len = this.lines.length;\n    for (let i = 0; i < len; i++) {\n      line = this.lines[i];\n\n      if (this.original.line) {\n        applyShapeEventListeners(this.original.line, line);\n      }\n\n      //correct measuredWidth if last line character contains tracking\n      if (line.lastWord() != undefined && line.lastWord().lastCharacter()) {\n        line.measuredWidth -= line\n          .lastWord()\n          .lastCharacter()\n          .trackingOffset();\n      }\n\n      measuredHeight += line.measuredHeight;\n      if (this.align === a.TOP_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.TOP_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.MIDDLE_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.MIDDLE_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      } else if (this.align === a.BOTTOM_CENTER) {\n        //move to center\n        line.x = (this.width - line.measuredWidth) / 2;\n      } else if (this.align === a.BOTTOM_RIGHT) {\n        //move to right\n        line.x = this.width - line.measuredWidth;\n      }\n    }\n\n    //TOP ALIGNED\n    if (\n      this.align === a.TOP_LEFT ||\n      this.align === a.TOP_CENTER ||\n      this.align === a.TOP_RIGHT\n    ) {\n      this.block.y =\n        (this.lines[0].measuredHeight * fnt.ascent) / fnt.units +\n        (this.lines[0].measuredHeight * fnt.top) / fnt.units;\n\n      //MIDDLE ALIGNED\n    } else if (\n      this.align === a.MIDDLE_LEFT ||\n      this.align === a.MIDDLE_CENTER ||\n      this.align === a.MIDDLE_RIGHT\n    ) {\n      this.block.y =\n        this.lines[0].measuredHeight +\n        (this.height - measuredHeight) / 2 +\n        (this.lines[0].measuredHeight * fnt.middle) / fnt.units;\n\n      //BOTTOM ALIGNED\n    } else if (\n      this.align === a.BOTTOM_LEFT ||\n      this.align === a.BOTTOM_CENTER ||\n      this.align === a.BOTTOM_RIGHT\n    ) {\n      this.block.y =\n        this.height -\n        this.lines[this.lines.length - 1].y +\n        (this.lines[0].measuredHeight * fnt.bottom) / fnt.units;\n    }\n\n    if (this.original.block) {\n      applyShapeEventListeners(this.original.block, this.block);\n    }\n  }\n}\n","export enum PathFit {\n  Rainbow,\n  Stairstep\n}\n\nexport interface PathPoint {\n  x: number;\n  y: number;\n  rotation?: number;\n  offsetX?: number;\n}\n\nexport enum PathAlign {\n  Center,\n  Right,\n  Left\n}\n\nexport default class Path {\n  private pathElement: SVGPathElement = null;\n  path: string = null;\n  start = 0;\n  center: number = null;\n  end: number = null;\n  angles: any[] = null;\n  flipped = false;\n  fit: PathFit = PathFit.Rainbow;\n  align: PathAlign = PathAlign.Center;\n  length: number = null;\n  realLength: number = null;\n  closed = false;\n  clockwise = true;\n\n  constructor(\n    path: string,\n    start = 0,\n    end: number = null,\n    flipped = false,\n    fit: PathFit = PathFit.Rainbow,\n    align: PathAlign = PathAlign.Center\n  ) {\n    this.path = path;\n    this.start = start;\n    this.align = align;\n    this.end = end;\n    this.flipped = flipped;\n    this.fit = fit;\n    this.update();\n  }\n\n  update() {\n    this.pathElement = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"path\"\n    ) as SVGPathElement;\n    this.pathElement.setAttributeNS(null, \"d\", this.path);\n    this.length = this.pathElement.getTotalLength();\n    this.closed = this.path.toLowerCase().indexOf(\"z\") != -1;\n    const pointlength = this.length / 10;\n    const points = [];\n\n    points.push(this.getRealPathPoint(0));\n    points.push(this.getRealPathPoint(pointlength));\n    points.push(this.getRealPathPoint(pointlength * 2));\n    points.push(this.getRealPathPoint(pointlength * 3));\n    points.push(this.getRealPathPoint(pointlength * 4));\n    points.push(this.getRealPathPoint(pointlength * 5));\n    points.push(this.getRealPathPoint(pointlength * 6));\n    points.push(this.getRealPathPoint(pointlength * 7));\n    points.push(this.getRealPathPoint(pointlength * 8));\n    points.push(this.getRealPathPoint(pointlength * 9));\n    points.push(this.getRealPathPoint(pointlength * 10));\n\n    const clock =\n      (points[1].x - points[0].x) * (points[1].y + points[0].y) +\n      (points[2].x - points[1].x) * (points[2].y + points[1].y) +\n      (points[3].x - points[2].x) * (points[3].y + points[2].y) +\n      (points[4].x - points[3].x) * (points[4].y + points[3].y) +\n      (points[5].x - points[4].x) * (points[5].y + points[4].y) +\n      (points[6].x - points[5].x) * (points[6].y + points[5].y) +\n      (points[7].x - points[6].x) * (points[7].y + points[6].y) +\n      (points[8].x - points[7].x) * (points[8].y + points[7].y) +\n      (points[9].x - points[8].x) * (points[9].y + points[8].y) +\n      (points[10].x - points[9].x) * (points[10].y + points[9].y);\n    if (clock > 0) {\n      this.clockwise = false;\n    } else {\n      this.clockwise = true;\n    }\n\n    if (this.end == null) {\n      this.end = this.length;\n    }\n    if (this.closed == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.start - this.realLength / 2;\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      } else {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.start - this.realLength / 2;\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      }\n    } else if (this.clockwise == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.end + this.realLength / 2;\n        } else {\n          this.realLength = this.start + this.length - this.end;\n          this.center = this.end + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        }\n      } else {\n        if (this.start > this.end) {\n          this.realLength = this.end + this.length - this.start;\n          this.center = this.start + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      }\n    } else {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          this.realLength = this.end + this.length - this.start;\n          this.center = this.start + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        } else {\n          this.realLength = this.end - this.start;\n          this.center = this.start + this.realLength / 2;\n        }\n      } else {\n        if (this.start > this.end) {\n          this.realLength = this.start - this.end;\n          this.center = this.end + this.realLength / 2;\n        } else {\n          this.realLength = this.start + this.length - this.end;\n          this.center = this.end + this.realLength / 2;\n          if (this.center > this.length) {\n            this.center = this.center - this.length;\n          }\n        }\n      }\n    }\n  }\n\n  getRealPathPoint(distance: number): PathPoint {\n    if (distance > this.length) {\n      return this.pathElement.getPointAtLength(distance - this.length);\n    } else if (distance < 0) {\n      return this.pathElement.getPointAtLength(distance + this.length);\n    } else {\n      return this.pathElement.getPointAtLength(distance);\n    }\n  }\n\n  getPathPoint(\n    distance: number,\n    characterLength = 0,\n    charOffset = 0\n  ): PathPoint {\n    distance = distance * 0.99;\n    characterLength = characterLength * 0.99;\n\n    let point1: PathPoint;\n    let point2: PathPoint;\n    let position: number;\n    let direction = true;\n    let realStart = 0;\n\n    if (this.closed == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n          position = realStart - distance;\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart + distance;\n        }\n      } else {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n          position = realStart - distance;\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart - distance;\n        }\n      }\n    } else if (this.clockwise == false) {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n\n          position = realStart - distance;\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n            position = realStart - distance;\n          }\n\n          if (position < 0) {\n            position = position + this.length;\n          }\n          direction = false;\n        }\n      } else {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n            position = realStart + distance;\n          }\n\n          if (position > this.length) {\n            position = position - this.length;\n          }\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart + distance;\n        }\n      }\n    } else {\n      if (this.flipped == false) {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n            position = realStart - distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n            position = realStart - distance;\n          }\n\n          if (position < 0) {\n            position = position + this.length;\n          }\n          direction = false;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start - (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start - this.realLength - characterLength;\n          }\n          position = realStart - distance;\n          direction = false;\n        }\n      } else {\n        if (this.start > this.end) {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n          }\n          position = realStart + distance;\n        } else {\n          if (this.align == PathAlign.Left) {\n            realStart = this.start;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Center) {\n            realStart = this.start + (this.realLength - characterLength) / 2;\n            position = realStart + distance;\n          } else if (this.align == PathAlign.Right) {\n            realStart = this.start + this.realLength - characterLength;\n            position = realStart + distance;\n          }\n\n          if (position > this.length) {\n            position = position - this.length;\n          }\n        }\n      }\n    }\n\n    point1 = this.getRealPathPoint(position);\n    const segment = this.pathElement.pathSegList.getItem(\n      this.pathElement.getPathSegAtLength(position)\n    ).pathSegType;\n\n    if (\n      segment == 4 &&\n      !direction &&\n      this.pathElement.getPathSegAtLength(position) !=\n        this.pathElement.getPathSegAtLength(position - charOffset)\n    ) {\n      const pp0 = this.getRealPathPoint(position);\n      const pp1 = this.getRealPathPoint(position - charOffset);\n      const ppc = this.pathElement.pathSegList.getItem(\n        this.pathElement.getPathSegAtLength(position) - 1\n      );\n      const d0 = Math.sqrt(\n        Math.pow(pp0.x - ppc[\"x\"], 2) + Math.pow(pp0.y - ppc[\"y\"], 2)\n      );\n\n      const d1 = Math.sqrt(\n        Math.pow(pp1.x - ppc[\"x\"], 2) + Math.pow(pp1.y - ppc[\"y\"], 2)\n      );\n\n      if (d0 > d1) {\n        point1 = pp0;\n        point2 = { x: ppc[\"x\"], y: ppc[\"y\"] };\n\n        let rot12 =\n          (Math.atan((point2.y - point1.y) / (point2.x - point1.x)) * 180) /\n          Math.PI;\n        if (point1.x > point2.x) {\n          rot12 = rot12 + 180;\n        }\n\n        if (rot12 < 0) {\n          rot12 = rot12 + 360;\n        }\n        if (rot12 > 360) {\n          rot12 = rot12 - 360;\n        }\n\n        point1.rotation = rot12;\n        return point1;\n      } else {\n        point1 = { x: ppc[\"x\"], y: ppc[\"y\"] };\n        point1.offsetX = -d0;\n        point1[\"next\"] = true;\n        return point1;\n      }\n    }\n\n    if (direction) {\n      point2 = this.getRealPathPoint(position + charOffset);\n    } else {\n      point2 = this.getRealPathPoint(position - charOffset);\n    }\n\n    let rot12 =\n      (Math.atan((point2.y - point1.y) / (point2.x - point1.x)) * 180) /\n      Math.PI;\n\n    if (point1.x > point2.x) {\n      rot12 = rot12 + 180;\n    }\n\n    if (rot12 < 0) {\n      rot12 = rot12 + 360;\n    }\n    if (rot12 > 360) {\n      rot12 = rot12 - 360;\n    }\n\n    point1.rotation = rot12;\n    return point1;\n  }\n}\n","enum VerticalAlign {\n  Top,\n  CapHeight,\n  Center,\n  BaseLine,\n  Bottom,\n  XHeight,\n  Ascent,\n  Percent\n}\n\nexport default VerticalAlign;\n","import TextContainer from \"./TextContainer\";\nimport { ConstructObj, Style } from \"./Interfaces\";\nimport Path, { PathFit, PathAlign } from \"./Path\";\nimport VerticalAlign from \"./VerticalAlign\";\nimport FontLoader from \"./FontLoader\";\nimport Character from \"./Character\";\nimport Font from \"./Font\";\nimport applyShapeEventListeners from \"./utils/apply-shape-event-listeners\";\n\nexport default class PathText extends TextContainer {\n  size = 12;\n  tracking = 0;\n  ligatures = false;\n  minSize: number = null;\n  maxTracking: number = null;\n  fillColor = \"#000\";\n  strokeColor: string = null;\n  strokeWidth: number = null;\n  debug = false;\n  characters: Character[];\n  block: createjs.Container;\n  original: ConstructObj = null;\n  autoExpand = false;\n  autoReduce = false;\n  overset = false;\n  oversetIndex: number = null;\n  pathPoints: Path = null;\n  path = \"\";\n  start = 0;\n  end: number = null;\n  flipped = false;\n  fit: PathFit = PathFit.Rainbow;\n  align: PathAlign = PathAlign.Center;\n  valign: VerticalAlign = VerticalAlign.BaseLine;\n  missingGlyphs: any[] = null;\n  renderCycle = true;\n  valignPercent = 1;\n  initialTracking = 0;\n  initialOffset = 0;\n  measured = false;\n  oversetPotential = false;\n\n  constructor(props: ConstructObj = null) {\n    super();\n\n    if (props) {\n      this.original = props;\n      this.set(props);\n      this.original.tracking = this.tracking;\n    }\n    this.loadFonts();\n    this.pathPoints = new Path(\n      this.path,\n      this.start,\n      this.end,\n      this.flipped,\n      this.fit,\n      this.align\n    );\n  }\n\n  setPath(path: string) {\n    this.path = path;\n    this.pathPoints.path = this.path;\n    this.pathPoints.update();\n  }\n\n  setStart(start: number) {\n    this.start = start;\n    this.pathPoints.start = this.start;\n    this.pathPoints.update();\n  }\n\n  setEnd(end: number) {\n    this.end = end;\n    this.pathPoints.end = this.end;\n    this.pathPoints.update();\n  }\n\n  setFlipped(flipped: boolean) {\n    this.flipped = flipped;\n    this.pathPoints.flipped = this.flipped;\n    this.pathPoints.update();\n  }\n\n  setFit(fit: PathFit = PathFit.Rainbow) {\n    this.fit = fit;\n    this.pathPoints.fit = this.fit;\n    this.pathPoints.update();\n  }\n\n  setAlign(align: PathAlign = PathAlign.Center) {\n    this.align = align;\n    this.pathPoints.align = this.align;\n    this.pathPoints.update();\n  }\n\n  getWidth(): number {\n    return this.pathPoints.realLength;\n  }\n\n  layout() {\n    this.addAccessibility();\n    this.overset = false;\n    this.oversetIndex = null;\n    this.removeAllChildren();\n    this.characters = [];\n    this.missingGlyphs = null;\n    this.measured = false;\n    this.oversetPotential = false;\n    if (this.debug == true) {\n      this.addDebugLayout();\n    }\n\n    if (this.text === \"\" || this.text === undefined) {\n      this.render();\n      return;\n    }\n\n    this.block = new createjs.Container();\n    this.addChild(this.block);\n\n    if (this.autoExpand === true || this.autoReduce === true) {\n      if (this.measure() === false) {\n        this.removeAllChildren();\n        return;\n      }\n    }\n\n    if (this.renderCycle === false) {\n      this.removeAllChildren();\n      this.complete();\n      return;\n    }\n\n    if (this.characterLayout() === false) {\n      this.removeAllChildren();\n      return;\n    }\n    this.render();\n    this.complete();\n  }\n\n  private addDebugLayout() {\n    let s = new createjs.Shape();\n    s.graphics.beginStroke(\"#FF0000\");\n    s.graphics.setStrokeStyle(0.1);\n    s.graphics.decodeSVGPath(this.path);\n    s.graphics.endFill();\n    s.graphics.endStroke();\n    this.addChild(s);\n    s = new createjs.Shape();\n    let pp = this.pathPoints.getRealPathPoint(0);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"black\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n    s = new createjs.Shape();\n    pp = this.pathPoints.getRealPathPoint(this.pathPoints.start);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"green\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n    s = new createjs.Shape();\n    pp = this.pathPoints.getRealPathPoint(this.pathPoints.end);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"red\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n    s = new createjs.Shape();\n    pp = this.pathPoints.getRealPathPoint(this.pathPoints.center);\n    s.x = pp.x;\n    s.y = pp.y;\n    s.graphics.beginFill(\"blue\");\n    s.graphics.drawCircle(0, 0, 2);\n    this.addChild(s);\n  }\n\n  measure(): boolean {\n    this.measured = true;\n    //Extract orgin sizing from this.original to preserve\n    //metrics. autoMeasure will change style properties\n    //directly. Change this.original to rerender.\n\n    let len = this.text.length;\n    const width = this.getWidth();\n    const defaultStyle = {\n      size: this.original.size,\n      font: this.original.font,\n      tracking: this.original.tracking,\n      characterCase: this.original.characterCase\n    };\n    let currentStyle: any;\n    let charCode: number = null;\n    let font: Font;\n    const charMetrics = [];\n    let largestFontSize = defaultStyle.size;\n    for (let i = 0; i < len; i++) {\n      charCode = this.text.charCodeAt(i);\n\n      currentStyle = defaultStyle;\n      if (\n        this.original.style !== undefined &&\n        this.original.style[i] !== undefined\n      ) {\n        currentStyle = this.original.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n      }\n      if (currentStyle.size > largestFontSize) {\n        largestFontSize = currentStyle.size;\n      }\n      font = FontLoader.fonts[currentStyle.font];\n      charMetrics.push({\n        char: this.text[i],\n        size: currentStyle.size,\n        charCode: charCode,\n        font: currentStyle.font,\n        offset: font.glyphs[charCode].offset,\n        units: font.units,\n        tracking: this.trackingOffset(\n          currentStyle.tracking,\n          currentStyle.size,\n          font.units\n        ),\n        kerning: font.glyphs[charCode].getKerning(this.getCharCodeAt(i + 1), 1)\n      });\n    }\n\n    //save space char using last known width/height\n    const space: any = {\n      char: \" \",\n      size: currentStyle.size,\n      charCode: 32,\n      font: currentStyle.font,\n      offset: font.glyphs[32].offset,\n      units: font.units,\n      tracking: 0,\n      kerning: 0\n    };\n\n    charMetrics[charMetrics.length - 1].tracking = 0;\n    //charMetrics[ charMetrics.length-1 ].kerning=0;\n\n    len = charMetrics.length;\n\n    //measured without size\n    let metricBaseWidth = 0;\n    //measured at size\n    let metricRealWidth = 0;\n    //measured at size with tracking\n    let metricRealWidthTracking = 0;\n\n    let current = null;\n    for (let i = 0; i < len; i++) {\n      current = charMetrics[i];\n      metricBaseWidth = metricBaseWidth + current.offset + current.kerning;\n      metricRealWidth =\n        metricRealWidth + (current.offset + current.kerning) * current.size;\n      metricRealWidthTracking =\n        metricRealWidthTracking +\n        (current.offset + current.kerning + current.tracking) * current.size;\n    }\n\n    //size cases\n    if (metricRealWidth > width) {\n      if (this.autoReduce === true) {\n        this.tracking = 0;\n        this.size =\n          (this.original.size * width) /\n          (metricRealWidth + space.offset * space.size);\n        if (this.minSize != null && this.size < this.minSize) {\n          this.size = this.minSize;\n          if (this.renderCycle === false) {\n            this.overset = true;\n          } else {\n            this.oversetPotential = true;\n          }\n        }\n        return true;\n      }\n      //tracking cases\n    } else {\n      let trackMetric = this.offsetTracking(\n        (width - metricRealWidth) / len,\n        current.size,\n        current.units\n      );\n      if (trackMetric < 0) {\n        trackMetric = 0;\n      }\n      //autoexpand case\n      if (trackMetric > this.original.tracking && this.autoExpand) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n      //autoreduce tracking case\n      if (trackMetric < this.original.tracking && this.autoReduce) {\n        if (this.maxTracking != null && trackMetric > this.maxTracking) {\n          this.tracking = this.maxTracking;\n        } else {\n          this.tracking = trackMetric;\n        }\n        this.size = this.original.size;\n        return true;\n      }\n    }\n    return true;\n  }\n\n  //place characters in words\n  characterLayout(): boolean {\n    //char layout\n    let len = this.text.length;\n    let char: Character;\n    const defaultStyle: Style = {\n      size: this.size,\n      font: this.font,\n      tracking: this.tracking,\n      characterCase: this.characterCase,\n      fillColor: this.fillColor,\n      strokeColor: this.strokeColor,\n      strokeWidth: this.strokeWidth\n    };\n    let currentStyle = defaultStyle;\n    let hPosition = 0;\n\n    // loop over characters\n    // place into lines\n    for (let i = 0; i < len; i++) {\n      if (this.style !== null && this.style[i] !== undefined) {\n        currentStyle = this.style[i];\n        // make sure style contains properties needed.\n        if (currentStyle.size === undefined)\n          currentStyle.size = defaultStyle.size;\n        if (currentStyle.font === undefined)\n          currentStyle.font = defaultStyle.font;\n        if (currentStyle.tracking === undefined)\n          currentStyle.tracking = defaultStyle.tracking;\n        if (currentStyle.characterCase === undefined)\n          currentStyle.characterCase = defaultStyle.characterCase;\n        if (currentStyle.fillColor === undefined)\n          currentStyle.fillColor = defaultStyle.fillColor;\n        if (currentStyle.strokeColor === undefined)\n          currentStyle.strokeColor = defaultStyle.strokeColor;\n        if (currentStyle.strokeWidth === undefined)\n          currentStyle.strokeWidth = defaultStyle.strokeWidth;\n      }\n\n      // newline\n      if (this.text.charAt(i) == \"\\n\") {\n        continue;\n      }\n\n      //runtime test for font\n      if (FontLoader.isLoaded(currentStyle.font) === false) {\n        FontLoader.load(this, [currentStyle.font]);\n        return false;\n      }\n\n      //initalize with initialTracking and initialOffset;\n      if (hPosition == 0) {\n        hPosition =\n          this.initialOffset +\n          this.trackingOffset(\n            this.initialTracking,\n            currentStyle.size,\n            FontLoader.getFont(currentStyle.font).units\n          );\n      }\n\n      // create character\n      char = new Character(this.text.charAt(i), currentStyle, i);\n      if (this.original.character) {\n        applyShapeEventListeners(this.original.character, char);\n      }\n\n      if (char.missing) {\n        if (this.missingGlyphs == null) {\n          this.missingGlyphs = [];\n        }\n        this.missingGlyphs.push({\n          position: i,\n          character: this.text.charAt(i),\n          font: currentStyle.font\n        });\n      }\n\n      //swap character if ligature\n      //ligatures removed if tracking or this.ligatures is false\n      if (currentStyle.tracking == 0 && this.ligatures == true) {\n        //1 char match\n        const ligTarget = this.text.substr(i, 4);\n        if (char._font.ligatures[ligTarget.charAt(0)]) {\n          //2 char match\n          if (char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)]) {\n            //3 char match\n            if (\n              char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)][\n                ligTarget.charAt(2)\n              ]\n            ) {\n              //4 char match\n              if (\n                char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)][\n                  ligTarget.charAt(2)\n                ][ligTarget.charAt(3)]\n              ) {\n                //swap 4 char ligature\n                char.setGlyph(\n                  char._font.ligatures[ligTarget.charAt(0)][\n                    ligTarget.charAt(1)\n                  ][ligTarget.charAt(2)][ligTarget.charAt(3)].glyph\n                );\n                i = i + 3;\n              } else {\n                //swap 3 char ligature\n                char.setGlyph(\n                  char._font.ligatures[ligTarget.charAt(0)][\n                    ligTarget.charAt(1)\n                  ][ligTarget.charAt(2)].glyph\n                );\n                i = i + 2;\n              }\n            } else {\n              //swap 2 char ligature\n              char.setGlyph(\n                char._font.ligatures[ligTarget.charAt(0)][ligTarget.charAt(1)]\n                  .glyph\n              );\n              i = i + 1;\n            }\n          }\n        }\n      }\n\n      //char.hPosition = hPosition;\n\n      // push character into block\n      //this.characters.push( char );\n      //this.block.addChild( char );\n\n      if (this.overset == true) {\n        break;\n      } else if (\n        this.measured == true &&\n        hPosition + char.measuredWidth > this.getWidth() &&\n        this.oversetPotential == true\n      ) {\n        //char.hPosition = hPosition;\n        //this.characters.push( char );\n        //this.block.addChild( char );\n\n        //this.block.removeChild(this.characters.pop() );\n        this.oversetIndex = i;\n        this.overset = true;\n        break;\n      } else if (\n        this.measured == false &&\n        hPosition + char.measuredWidth > this.getWidth()\n      ) {\n        //char.hPosition = hPosition;\n        //this.characters.push( char );\n        //this.block.addChild( char );\n\n        //this.block.removeChild(this.characters.pop() );\n        this.oversetIndex = i;\n        this.overset = true;\n        break;\n      } else {\n        char.hPosition = hPosition;\n        this.characters.push(char);\n        this.block.addChild(char);\n      }\n\n      //char.x = hPosition;\n      hPosition =\n        hPosition +\n        char._glyph.offset * char.size +\n        char.characterCaseOffset +\n        char.trackingOffset() +\n        char._glyph.getKerning(this.getCharCodeAt(i + 1), char.size);\n    }\n\n    len = this.characters.length;\n    let pathPoint: any;\n    let nextRotation = false;\n    for (let i = 0; i < len; i++) {\n      char = this.characters[i] as Character;\n      pathPoint = this.pathPoints.getPathPoint(\n        char.hPosition,\n        hPosition,\n        char._glyph.offset * char.size\n      );\n      //correct rotation around linesegments\n      if (nextRotation == true) {\n        this.characters[i - 1].parent.rotation = pathPoint.rotation;\n        nextRotation = false;\n      }\n      if (pathPoint.next == true) {\n        nextRotation = true;\n      }\n\n      char.rotation = pathPoint.rotation;\n\n      //Baseline\n      if (this.valign == VerticalAlign.BaseLine) {\n        char.x = pathPoint.x;\n        char.y = pathPoint.y;\n\n        //reparent child into offset container\n        if (pathPoint.offsetX) {\n          const offsetChild = new createjs.Container();\n          offsetChild.x = pathPoint.x;\n          offsetChild.y = pathPoint.y;\n          offsetChild.rotation = pathPoint.rotation;\n          char.parent.removeChild(char);\n          offsetChild.addChild(char);\n          char.x = pathPoint.offsetX;\n          char.y = 0;\n          char.rotation = 0;\n          this.addChild(offsetChild);\n        } else {\n          char.x = pathPoint.x;\n          char.y = pathPoint.y;\n          char.rotation = pathPoint.rotation;\n        }\n      } else {\n        const offsetChild = new createjs.Container();\n        offsetChild.x = pathPoint.x;\n        offsetChild.y = pathPoint.y;\n        offsetChild.rotation = pathPoint.rotation;\n        char.parent.removeChild(char);\n        offsetChild.addChild(char);\n        char.x = 0;\n\n        //vertical alignment\n        if (this.valign == VerticalAlign.Top) {\n          char.y = char.size;\n        } else if (this.valign == VerticalAlign.Bottom) {\n          char.y = (char._font.descent / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.CapHeight) {\n          char.y = (char._font[\"cap-height\"] / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.XHeight) {\n          char.y = (char._font[\"x-height\"] / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.Ascent) {\n          char.y = (char._font.ascent / char._font.units) * char.size;\n        } else if (this.valign == VerticalAlign.Center) {\n          char.y =\n            ((char._font[\"cap-height\"] / char._font.units) * char.size) / 2;\n        } else if (this.valign == VerticalAlign.Percent) {\n          char.y = this.valignPercent * char.size;\n        } else {\n          char.y = 0;\n        }\n        char.rotation = 0;\n        this.addChild(offsetChild);\n      }\n    }\n\n    if (this.original.block) {\n      applyShapeEventListeners(this.original.block, this.block);\n    }\n\n    return true;\n  }\n\n  trackingOffset(tracking: number, size: number, units: number): number {\n    return size * (2.5 / units + 1 / 900 + tracking / 990);\n  }\n\n  offsetTracking(offset: number, size: number, units: number): number {\n    return Math.floor(((offset - 2.5 / units - 1 / 900) * 990) / size);\n  }\n}\n","import \"./GraphicsMixin\";\n\nexport { default as Accessibility } from \"./Accessibility\";\nexport { default as Align } from \"./Align\";\nexport { default as Case } from \"./Case\";\nexport { default as Character } from \"./Character\";\nexport { default as CharacterText } from \"./CharacterText\";\nexport { default as Font } from \"./Font\";\nexport { default as FontLoader } from \"./FontLoader\";\nexport { default as Glyph } from \"./Glyph\";\nexport { default as Graphics } from \"./Graphics\";\nexport { default as Info } from \"./Info\";\nexport { default as Line } from \"./Line\";\nexport { default as Text } from \"./Text\";\nexport { default as Path, PathAlign, PathFit } from \"./Path\";\nexport { default as PathText } from \"./PathText\";\nexport { default as VerticalAlign } from \"./VerticalAlign\";\nexport { default as Word } from \"./Word\";\n\nimport copyEventListeners from \"./utils/apply-shape-event-listeners\";\n\nexport const Util = {\n  copyEventListeners\n};\n"],"names":["Case","Align","applyShapeEventListeners","VerticalAlign"],"mappings":"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,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC,MAAM,CAAC,CAAC,CAAC,C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"}